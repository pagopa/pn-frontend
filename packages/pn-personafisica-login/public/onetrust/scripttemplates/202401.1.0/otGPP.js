(()=>{var Ze=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable;var Qe=(o,e,t)=>e in o?Ze(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,qe=(o,e)=>{for(var t in e||={})st.call(e,t)&&Qe(o,t,e[t]);if($e)for(var t of $e(e))rt.call(e,t)&&Qe(o,t,e[t]);return o},ze=(o,e)=>et(o,tt(e));var a=(o,e,t)=>(Qe(o,typeof e!="symbol"?e+"":e,t),t);var z=class{eventName;listenerId;data;pingData;constructor(e,t,s,r){this.eventName=e,this.listenerId=t,this.data=s,this.pingData=r}};var K=class{gppVersion;cmpStatus;cmpDisplayStatus;signalStatus;supportedAPIs;cmpId;sectionList;applicableSections;gppString;parsedSections;constructor(e){this.gppVersion=e.gppVersion,this.cmpStatus=e.cmpStatus,this.cmpDisplayStatus=e.cmpDisplayStatus,this.signalStatus=e.signalStatus,this.supportedAPIs=e.supportedAPIs,this.cmpId=e.cmpId,this.sectionList=e.gppModel.getSectionIds(),this.applicableSections=e.applicableSections,this.gppString=e.gppModel.encode(),this.parsedSections=e.gppModel.toObject()}};var v=class{callback;parameter;success=!0;cmpApiContext;constructor(e,t,s){this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:s})}execute(){try{return this.respond()}catch{return this.invokeCallback(null),null}}invokeCallback(e){let t=e!==null;this.callback&&this.callback(e,t)}};var Ue=class extends v{respond(){let e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new z("listenerRegistered",e,!0,new K(this.cmpApiContext));this.invokeCallback(t)}};var Ge=class extends v{respond(){let e=new K(this.cmpApiContext);this.invokeCallback(e)}};var be=class extends v{respond(){if(!this.parameter||this.parameter.length===0)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(e.length!=2)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],s=e[1],r=this.cmpApiContext.gppModel.getFieldValue(t,s);this.invokeCallback(r)}};var ve=class extends v{respond(){if(!this.parameter||this.parameter.length===0)throw new Error("<section> parameter required");let e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}};var ye=class extends v{respond(){if(!this.parameter||this.parameter.length===0)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}};var F;(function(o){o.ADD_EVENT_LISTENER="addEventListener",o.GET_FIELD="getField",o.GET_SECTION="getSection",o.HAS_SECTION="hasSection",o.PING="ping",o.REMOVE_EVENT_LISTENER="removeEventListener"})(F||(F={}));var Be=class extends v{respond(){let e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),s=new z("listenerRemoved",e,t,new K(this.cmpApiContext));this.invokeCallback(s)}};var ot,nt,it,lt,St,at,W=class{};ot=F.ADD_EVENT_LISTENER,nt=F.GET_FIELD,it=F.GET_SECTION,lt=F.HAS_SECTION,St=F.PING,at=F.REMOVE_EVENT_LISTENER,a(W,ot,Ue),a(W,nt,be),a(W,it,ve),a(W,lt,ye),a(W,St,Ge),a(W,at,Be);var re;(function(o){o.STUB="stub",o.LOADING="loading",o.LOADED="loaded",o.ERROR="error"})(re||(re={}));var oe;(function(o){o.VISIBLE="visible",o.HIDDEN="hidden",o.DISABLED="disabled"})(oe||(oe={}));var Je;(function(o){o.GPP_LOADED="gpploaded",o.CMP_UI_SHOWN="cmpuishown",o.USER_ACTION_COMPLETE="useractioncomplete"})(Je||(Je={}));var ne;(function(o){o.NOT_READY="not ready",o.READY="ready"})(ne||(ne={}));var He=class{callQueue;customCommands;cmpApiContext;constructor(e,t){if(this.cmpApiContext=e,t){let s=F.ADD_EVENT_LISTENER;if(t?.[s])throw new Error(`Built-In Custom Commmand for ${s} not allowed`);if(s=F.REMOVE_EVENT_LISTENER,t?.[s])throw new Error(`Built-In Custom Commmand for ${s} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch{this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,s,r){if(typeof e!="string")t(null,!1);else{if(t&&typeof t!="function")throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,s):this.isBuiltInCommand(e)?new W[e](this.cmpApiContext,t,s).execute():t&&t(null,!1)}}purgeQueuedCalls(){let e=this.callQueue;this.callQueue=[],e.forEach(t=>{window.__gpp(...t)})}isCustomCommand(e){return this.customCommands&&typeof this.customCommands[e]=="function"}isBuiltInCommand(e){return W[e]!==void 0}};var Fe=class{eventQueue=new Map;queueNumber=1e3;cmpApiContext;constructor(e){this.cmpApiContext=e;try{let s=window.__gpp("events")||[];for(var t=0;t<s.length;t++){let r=s[t];this.eventQueue.set(r.id,{callback:r.callback,parameter:r.parameter})}}catch(s){console.log(s)}}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}get(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}exec(e,t){this.eventQueue.forEach((s,r)=>{let n=new z(e,r,t,new K(this.cmpApiContext)),i=!0;s.callback(n,i)})}clear(){this.queueNumber=1e3,this.eventQueue.clear()}get size(){return this.eventQueue.size}};var g=class extends Error{constructor(e){super(e),this.name="DecodingError"}};var p=class{static encode(e,t){let s=[];if(e>=1)for(s.push(1);e>=s[0]*2;)s.unshift(s[0]*2);let r="";for(let n=0;n<s.length;n++){let i=s[n];e>=i?(r+="1",e-=i):r+="0"}for(;r.length<t;)r="0"+r;return r}static decode(e){if(!/^[0-1]*$/.test(e))throw new g("Undecodable FixedInteger '"+e+"'");let t=0,s=[];for(let r=0;r<e.length;r++)r===0?s[e.length-(r+1)]=1:s[e.length-(r+1)]=s[e.length-r]*2;for(let r=0;r<e.length;r++)e.charAt(r)==="1"&&(t+=s[r]);return t}};var $=class extends Error{constructor(e){super(e),this.name="EncodingError"}};var ke=class{encode(e){if(!/^[0-1]*$/.test(e))throw new $("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",s=0;for(;s<=e.length-6;){let r=e.substring(s,s+6);try{let n=p.decode(r),i=ke.DICT.charAt(n);t+=i,s+=6}catch{throw new $("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new g("Undecodable Base64URL string");let t="";for(let s=0;s<e.length;s++){let r=e.charAt(s),n=ke.REVERSE_DICT.get(r),i=p.encode(n,6);t+=i}return t}},J=ke;a(J,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),a(J,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var L=class extends J{pad(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}};var Q=class{static encode(e){let t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);let r=2;for(;e>=t[r-1]+t[r-2];)t.push(t[r-1]+t[r-2]),r++}let s="1";for(let r=t.length-1;r>=0;r--){let n=t[r];e>=n?(s="1"+s,e-=n):s="0"+s}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new g("Undecodable FibonacciInteger '"+e+"'");let t=0,s=[];for(let r=0;r<e.length-1;r++)r===0?s.push(1):r===1?s.push(2):s.push(s[r-1]+s[r-2]);for(let r=0;r<e.length-1;r++)e.charAt(r)==="1"&&(t+=s[r]);return t}};var k=class{static encode(e){if(e===!0)return"1";if(e===!1)return"0";throw new $("Unencodable Boolean '"+e+"'")}static decode(e){if(e==="1")return!0;if(e==="0")return!1;throw new g("Undecodable Boolean '"+e+"'")}};var Se=class{static encode(e){e=e.sort((i,d)=>i-d);let t=[],s=0,r=0;for(;r<e.length;){let i=r;for(;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(r,i+1)),r=i+1}let n=p.encode(t.length,12);for(let i=0;i<t.length;i++)if(t[i].length==1){let d=t[i][0]-s;s=t[i][0],n+="0"+Q.encode(d)}else{let d=t[i][0]-s;s=t[i][0];let I=t[i][t[i].length-1]-s;s=t[i][t[i].length-1],n+="1"+Q.encode(d)+Q.encode(I)}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new g("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],s=p.decode(e.substring(0,12)),r=0,n=12;for(let i=0;i<s;i++){let d=k.decode(e.substring(n,n+1));if(n++,d===!0){let I=e.indexOf("11",n),H=Q.decode(e.substring(n,I+2))+r;r=H,n=I+2,I=e.indexOf("11",n);let Ve=Q.decode(e.substring(n,I+2))+r;r=Ve,n=I+2;for(let ge=H;ge<=Ve;ge++)t.push(ge)}else{let I=e.indexOf("11",n),H=Q.decode(e.substring(n,I+2))+r;r=H,t.push(H),n=I+2}}return t}};var N=class{value;hasValue(){return this.value!==void 0&&this.value!==null}getValue(){return this.value}setValue(e){this.value=e}};var _e=class extends N{constructor(e){super(),this.setValue(e)}encode(){return Se.encode(this.value)}decode(e){this.value=Se.decode(e)}substring(e,t){let s=p.decode(e.substring(t,t+12)),r=t+12;for(let n=0;n<s;n++)e.charAt(r)==="1"?r=e.indexOf("11",e.indexOf("11",r+1)+2)+2:r=e.indexOf("11",r+1)+2;return e.substring(t,r)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort((t,s)=>t-s))}};var l=class extends N{bitStringLength;constructor(e,t){super(),this.bitStringLength=e,this.setValue(t)}encode(){return p.encode(this.value,this.bitStringLength)}decode(e){this.value=p.decode(e)}substring(e,t){return e.substring(t,t+this.bitStringLength)}};var q;(function(o){o.ID="Id",o.VERSION="Version",o.SECTION_IDS="SectionIds"})(q||(q={}));var Z=class{fields;fieldOrder;constructor(e,t){this.fields=e,this.fieldOrder=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(this.fields.has(e))this.fields.get(e).setValue(t);else throw new Error(e+" not found")}getFieldOrder(){return this.fieldOrder}encodeToBitString(){let e="";for(let t=0;t<this.fieldOrder.length;t++){let s=this.fieldOrder[t];if(this.fields.has(s)){let r=this.fields.get(s);e+=r.encode()}else throw new Error("Field not found: '"+s+"'")}return e}decodeFromBitString(e){let t=0;for(let s=0;s<this.fieldOrder.length;s++){let r=this.fieldOrder[s];if(this.fields.has(r)){let n=this.fields.get(r),i=n.substring(e,t);n.decode(i),t+=i.length}else throw new Error("Field not found: '"+r+"'")}}toObj(){let e={};for(let t=0;t<this.fieldOrder.length;t++){let s=this.fieldOrder[t];if(this.fields.has(s)){let n=this.fields.get(s).getValue();e[s]=n}}return e}};var ae=class extends Z{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(q.ID.toString(),new l(6,ae.ID)),t.set(q.VERSION.toString(),new l(6,ae.VERSION)),t.set(q.SECTION_IDS.toString(),new _e([]));let s=[q.ID.toString(),q.VERSION.toString(),q.SECTION_IDS.toString()];super(t,s),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}decode(e){let t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}getId(){return ae.ID}getName(){return ae.NAME}},j=ae;a(j,"ID",3),a(j,"VERSION",1),a(j,"NAME","header");var m=class extends N{constructor(e){super(),this.setValue(e)}encode(){return k.encode(this.value)}decode(e){this.value=k.decode(e)}substring(e,t){return e.substring(t,t+1)}};var he=class{static encode(e){return e?p.encode(Math.round(e.getTime()/100),36):p.encode(0,36)}static decode(e){if(!/^[0-1]*$/.test(e)||e.length!==36)throw new g("Undecodable Datetime '"+e+"'");return new Date(p.decode(e)*100)}};var ee=class extends N{constructor(e){super(),this.setValue(e)}encode(){return he.encode(this.value)}decode(e){this.value=he.decode(e)}substring(e,t){return e.substring(t,t+36)}};var Y=class{static encode(e,t){let s="";for(let r=0;r<e.length;r++)s+=k.encode(e[r]);for(;s.length<t;)s+="0";return s}static decode(e){if(!/^[0-1]*$/.test(e))throw new g("Undecodable FixedBitfield '"+e+"'");let t=[];for(let s=0;s<e.length;s++)t.push(k.decode(e.substring(s,s+1)));return t}};var te=class extends N{getLength;constructor(e,t){super(),this.getLength=e,this.setValue(t)}encode(){return Y.encode(this.value,this.getLength())}decode(e){this.value=Y.decode(e)}substring(e,t){return e.substring(t,t+this.getLength())}getValue(){return[...super.getValue()]}setValue(e){let t=this.getLength(),s=[...e];for(let r=s.length;r<t;r++)s.push(!1);s.length>t&&(s=s.slice(0,t)),super.setValue([...s])}};var y=class extends N{numElements;constructor(e){super(),this.numElements=e.length,this.setValue(e)}encode(){return Y.encode(this.value,this.numElements)}decode(e){this.value=Y.decode(e)}substring(e,t){return e.substring(t,t+this.numElements)}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let s=t.length;s<this.numElements;s++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}};var ue=class{static encode(e,t){for(;e.length<t;)e+=" ";let s="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n===32)s+=p.encode(63,6);else if(n>=65)s+=p.encode(e.charCodeAt(r)-65,6);else throw new $("Unencodable FixedString '"+e+"'")}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!==0)throw new g("Undecodable FixedString '"+e+"'");let t="";for(let s=0;s<e.length;s+=6){let r=p.decode(e.substring(s,s+6));r===63?t+=" ":t+=String.fromCharCode(r+65)}return t.trim()}};var ie=class extends N{stringLength;constructor(e,t){super(),this.stringLength=e,this.setValue(t)}encode(){return ue.encode(this.value,this.stringLength)}decode(e){this.value=ue.decode(e)}substring(e,t){return e.substring(t,t+this.stringLength*6)}};var B=class{fields;segments;constructor(e,t){this.fields=e,this.segments=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(this.fields.has(e))this.fields.get(e).setValue(t);else throw new Error(e+" not found")}getSegments(){return this.segments}encodeSegmentsToBitStrings(){let e=[];for(let t=0;t<this.segments.length;t++){let s="";for(let r=0;r<this.segments[t].length;r++){let n=this.segments[t][r];if(this.fields.has(n))try{let i=this.fields.get(n);s+=i.encode()}catch{throw new Error("Unable to encode "+n)}else throw new Error("Field not found: '"+n+"'")}e.push(s)}return e}decodeSegmentsFromBitStrings(e){for(let t=0;t<this.segments.length&&t<e.length;t++){let s=e[t];if(s&&s.length>0){let r=0;for(let n=0;n<this.segments[t].length;n++){let i=this.segments[t][n];if(this.fields.has(i))try{let d=this.fields.get(i),I=d.substring(s,r);d.decode(I),r+=I.length}catch{throw new Error("Unable to decode "+i)}else throw new Error("Field not found: '"+i+"'")}}}}toObj(){let e={};for(let t=0;t<this.segments.length;t++)for(let s=0;s<this.segments[t].length;s++){let r=this.segments[t][s];if(this.fields.has(r)){let i=this.fields.get(r).getValue();e[r]=i}}return e}};var se=class{static encode(e){e.sort((n,i)=>n-i);let t=[],s=0;for(;s<e.length;){let n=s;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(s,n+1)),s=n+1}let r=p.encode(t.length,12);for(let n=0;n<t.length;n++)t[n].length===1?r+="0"+p.encode(t[n][0],16):r+="1"+p.encode(t[n][0],16)+p.encode(t[n][t[n].length-1],16);return r}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new g("Undecodable FixedIntegerRange '"+e+"'");let t=[],s=p.decode(e.substring(0,12)),r=12;for(let n=0;n<s;n++){let i=k.decode(e.substring(r,r+1));if(r++,i===!0){let d=p.decode(e.substring(r,r+16));r+=16;let I=p.decode(e.substring(r,r+16));r+=16;for(let H=d;H<=I;H++)t.push(H)}else{let d=p.decode(e.substring(r,r+16));t.push(d),r+=16}}return t}};var Ee=class extends N{constructor(e){super(),this.setValue(e)}encode(){return se.encode(this.value)}decode(e){this.value=se.decode(e)}substring(e,t){let s=p.decode(e.substring(t,t+12)),r=t+12;for(let n=0;n<s;n++)e.charAt(r)==="1"?r+=33:r+=17;return e.substring(t,r)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort((t,s)=>t-s))}};var X=class extends N{constructor(e){super(),this.setValue(e)}encode(){let e=this.value.length>0?this.value[this.value.length-1]:0,t=se.encode(this.value),s=t.length,r=e;if(s<=r)return p.encode(e,16)+"1"+t;{let n=[],i=0;for(let d=0;d<e;d++)d===this.value[i]-1?(n[d]=!0,i++):n[d]=!1;return p.encode(e,16)+"0"+Y.encode(n,r)}}decode(e){if(e.charAt(16)==="1")this.value=se.decode(e.substring(17));else{let t=[],s=Y.decode(e.substring(17));for(let r=0;r<s.length;r++)s[r]===!0&&t.push(r+1);this.value=t}}substring(e,t){let s=p.decode(e.substring(t,t+16));return e.charAt(t+16)==="1"?e.substring(t,t+17)+new Ee([]).substring(e,t+17):e.substring(t,t+17+s)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort((t,s)=>t-s))}};var S;(function(o){o.VERSION="Version",o.CREATED="Created",o.LAST_UPDATED="LastUpdated",o.CMP_ID="CmpId",o.CMP_VERSION="CmpVersion",o.CONSENT_SCREEN="ConsentScreen",o.CONSENT_LANGUAGE="ConsentLanguage",o.VENDOR_LIST_VERSION="VendorListVersion",o.POLICY_VERSION="PolicyVersion",o.IS_SERVICE_SPECIFIC="IsServiceSpecific",o.USE_NON_STANDARD_STACKS="UseNonStandardStacks",o.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",o.PURPOSE_CONSENTS="PurposeConsents",o.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",o.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",o.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",o.VENDOR_CONSENTS="VendorConsents",o.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",o.PUBLISHER_RESTRICTIONS="PublisherRestrictions",o.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",o.PUBLISHER_CONSENTS="PublisherConsents",o.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",o.NUM_CUSTOM_PURPOSES="NumCustomPurposes",o.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",o.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",o.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",o.VENDORS_ALLOWED="VendorsAllowed",o.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",o.VENDORS_DISCLOSED="VendorsDisclosed"})(S||(S={}));var Ye=class extends J{pad(e){for(;e.length%24>0;)e+="0";return e}};var Te=class extends B{base64UrlEncoder=new Ye;constructor(e){let t=new Map,s=new Date;t.set(S.VERSION.toString(),new l(6,Te.VERSION)),t.set(S.CREATED.toString(),new ee(s)),t.set(S.LAST_UPDATED.toString(),new ee(s)),t.set(S.CMP_ID.toString(),new l(12,0)),t.set(S.CMP_VERSION.toString(),new l(12,0)),t.set(S.CONSENT_SCREEN.toString(),new l(6,0)),t.set(S.CONSENT_LANGUAGE.toString(),new ie(2,"EN")),t.set(S.VENDOR_LIST_VERSION.toString(),new l(12,0)),t.set(S.POLICY_VERSION.toString(),new l(6,2)),t.set(S.IS_SERVICE_SPECIFIC.toString(),new m(!1)),t.set(S.USE_NON_STANDARD_STACKS.toString(),new m(!1)),t.set(S.SPECIAL_FEATURE_OPTINS.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PURPOSE_CONSENTS.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PURPOSE_LEGITIMATE_INTERESTS.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PURPOSE_ONE_TREATMENT.toString(),new m(!1)),t.set(S.PUBLISHER_COUNTRY_CODE.toString(),new ie(2,"AA")),t.set(S.VENDOR_CONSENTS.toString(),new X([])),t.set(S.VENDOR_LEGITIMATE_INTERESTS.toString(),new X([])),t.set(S.PUBLISHER_RESTRICTIONS.toString(),new Ee([])),t.set(S.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new l(3,3)),t.set(S.PUBLISHER_CONSENTS.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let r=new l(6,0);t.set(S.NUM_CUSTOM_PURPOSES.toString(),r),t.set(S.PUBLISHER_CUSTOM_CONSENTS.toString(),new te(()=>r.getValue(),[])),t.set(S.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new te(()=>r.getValue(),[])),t.set(S.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new l(3,2)),t.set(S.VENDORS_ALLOWED.toString(),new X([])),t.set(S.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new l(3,1)),t.set(S.VENDORS_DISCLOSED.toString(),new X([]));let n=[S.VERSION.toString(),S.CREATED.toString(),S.LAST_UPDATED.toString(),S.CMP_ID.toString(),S.CMP_VERSION.toString(),S.CONSENT_SCREEN.toString(),S.CONSENT_LANGUAGE.toString(),S.VENDOR_LIST_VERSION.toString(),S.POLICY_VERSION.toString(),S.IS_SERVICE_SPECIFIC.toString(),S.USE_NON_STANDARD_STACKS.toString(),S.SPECIAL_FEATURE_OPTINS.toString(),S.PURPOSE_CONSENTS.toString(),S.PURPOSE_LEGITIMATE_INTERESTS.toString(),S.PURPOSE_ONE_TREATMENT.toString(),S.PUBLISHER_COUNTRY_CODE.toString(),S.VENDOR_CONSENTS.toString(),S.VENDOR_LEGITIMATE_INTERESTS.toString(),S.PUBLISHER_RESTRICTIONS.toString()],i=[S.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),S.PUBLISHER_CONSENTS.toString(),S.PUBLISHER_LEGITIMATE_INTERESTS.toString(),S.NUM_CUSTOM_PURPOSES.toString(),S.PUBLISHER_CUSTOM_CONSENTS.toString(),S.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],d=[S.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),S.VENDORS_ALLOWED.toString()],I=[S.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),S.VENDORS_DISCLOSED.toString()],H=[n,i,d,I];super(t,H),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(S.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}decode(e){let t=e.split("."),s=[];for(let r=0;r<t.length;r++){let n=this.base64UrlEncoder.decode(t[r]);switch(n.substring(0,3)){case"000":{s[0]=n;break}case"001":{s[3]=n;break}case"010":{s[2]=n;break}case"011":{s[1]=n;break}default:throw new g("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(s)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==S.CREATED.toString()&&e!==S.LAST_UPDATED.toString()){let s=new Date,r=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));this.setFieldValue(S.CREATED.toString(),r),this.setFieldValue(S.LAST_UPDATED.toString(),r)}}getId(){return Te.ID}getName(){return Te.NAME}},A=Te;a(A,"ID",2),a(A,"VERSION",2),a(A,"NAME","tcfeuv2");var E;(function(o){o.VERSION="Version",o.CREATED="Created",o.LAST_UPDATED="LastUpdated",o.CMP_ID="CmpId",o.CMP_VERSION="CmpVersion",o.CONSENT_SCREEN="ConsentScreen",o.CONSENT_LANGUAGE="ConsentLanguage",o.VENDOR_LIST_VERSION="VendorListVersion",o.TCF_POLICY_VERSION="TcfPolicyVersion",o.USE_NON_STANDARD_STACKS="UseNonStandardStacks",o.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",o.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",o.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",o.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",o.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",o.SEGMENT_TYPE="SegmentType",o.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",o.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",o.NUM_CUSTOM_PURPOSES="NumCustomPurposes",o.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",o.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"})(E||(E={}));var Oe=class extends B{base64UrlEncoder=new L;constructor(e){let t=new Map,s=new Date;t.set(E.VERSION.toString(),new l(6,Oe.VERSION)),t.set(E.CREATED.toString(),new ee(s)),t.set(E.LAST_UPDATED.toString(),new ee(s)),t.set(E.CMP_ID.toString(),new l(12,0)),t.set(E.CMP_VERSION.toString(),new l(12,0)),t.set(E.CONSENT_SCREEN.toString(),new l(6,0)),t.set(E.CONSENT_LANGUAGE.toString(),new ie(2,"EN")),t.set(E.VENDOR_LIST_VERSION.toString(),new l(12,0)),t.set(E.TCF_POLICY_VERSION.toString(),new l(6,1)),t.set(E.USE_NON_STANDARD_STACKS.toString(),new m(!1)),t.set(E.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(E.PURPOSES_EXPRESS_CONSENT.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(E.PURPOSES_IMPLIED_CONSENT.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(E.VENDOR_EXPRESS_CONSENT.toString(),new X([])),t.set(E.VENDOR_IMPLIED_CONSENT.toString(),new X([])),t.set(E.SEGMENT_TYPE.toString(),new l(3,3)),t.set(E.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(E.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new y([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let r=new l(6,0);t.set(E.NUM_CUSTOM_PURPOSES.toString(),r),t.set(E.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new te(()=>r.getValue(),[])),t.set(E.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new te(()=>r.getValue(),[]));let n=[E.VERSION.toString(),E.CREATED.toString(),E.LAST_UPDATED.toString(),E.CMP_ID.toString(),E.CMP_VERSION.toString(),E.CONSENT_SCREEN.toString(),E.CONSENT_LANGUAGE.toString(),E.VENDOR_LIST_VERSION.toString(),E.TCF_POLICY_VERSION.toString(),E.USE_NON_STANDARD_STACKS.toString(),E.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),E.PURPOSES_EXPRESS_CONSENT.toString(),E.PURPOSES_IMPLIED_CONSENT.toString(),E.VENDOR_EXPRESS_CONSENT.toString(),E.VENDOR_IMPLIED_CONSENT.toString()],i=[E.SEGMENT_TYPE.toString(),E.PUB_PURPOSES_EXPRESS_CONSENT.toString(),E.PUB_PURPOSES_IMPLIED_CONSENT.toString(),E.NUM_CUSTOM_PURPOSES.toString(),E.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),E.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()],d=[n,i];super(t,d),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[];for(let r=0;r<t.length;r++){let n=this.base64UrlEncoder.decode(t[r]);switch(n.substring(0,3)){case"000":{s[0]=n;break}case"011":{s[1]=n;break}default:throw new g("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(s)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==E.CREATED.toString()&&e!==E.LAST_UPDATED.toString()){let s=new Date,r=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));this.setFieldValue(E.CREATED.toString(),r),this.setFieldValue(E.LAST_UPDATED.toString(),r)}}getId(){return Oe.ID}getName(){return Oe.NAME}},P=Oe;a(P,"ID",5),a(P,"VERSION",2),a(P,"NAME","tcfcav1");var de=class extends Error{constructor(e){super(e),this.name="InvalidFieldError"}};var G;(function(o){o.VERSION="Version",o.NOTICE="Notice",o.OPT_OUT_SALE="OptOutSale",o.LSPA_COVERED="LspaCovered"})(G||(G={}));var fe=class{fields;constructor(e){this.fields=new Map,this.fields.set(G.VERSION.toString(),fe.VERSION),this.fields.set(G.NOTICE.toString(),"-"),this.fields.set(G.OPT_OUT_SALE.toString(),"-"),this.fields.set(G.LSPA_COVERED.toString(),"-"),e&&e.length>0&&this.decode(e)}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e):null}setFieldValue(e,t){if(this.fields.has(e))this.fields.set(e,t);else throw new de(e+" not found")}toObj(){let e={};for(let t of this.fields.keys()){let s=this.fields.get(t);e[t.toString()]=s}return e}encode(){let e="";return e+=this.getFieldValue(G.VERSION.toString()),e+=this.getFieldValue(G.NOTICE.toString()),e+=this.getFieldValue(G.OPT_OUT_SALE.toString()),e+=this.getFieldValue(G.LSPA_COVERED.toString()),e}decode(e){this.setFieldValue(G.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(G.NOTICE.toString(),e.charAt(1)),this.setFieldValue(G.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(G.LSPA_COVERED.toString(),e.charAt(3))}getId(){return fe.ID}getName(){return fe.NAME}},D=fe;a(D,"ID",6),a(D,"VERSION",1),a(D,"NAME","uspv1");var Ne=class{static encode(e,t,s){let r="";for(let n=0;n<e.length;n++)r+=p.encode(e[n],t);for(;r.length<t*s;)r+="0";return r}static decode(e,t,s){if(!/^[0-1]*$/.test(e))throw new g("Undecodable FixedInteger '"+e+"'");if(e.length>t*s)throw new g("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new g("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*s;)e+="0";e.length>t*s&&(e=e.substring(0,t*s));let r=[];for(let n=0;n<e.length;n+=t)r.push(p.decode(e.substring(n,n+t)));for(;r.length<s;)r.push(0);return r}};var U=class extends N{elementBitStringLength;numElements;constructor(e,t){super(),this.elementBitStringLength=e,this.numElements=t.length,this.setValue(t)}encode(){return Ne.encode(this.value,this.elementBitStringLength,this.numElements)}decode(e){this.value=Ne.decode(e,this.elementBitStringLength,this.numElements)}substring(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let s=t.length;s<this.numElements;s++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}};var c;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",o.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",o.SALE_OPT_OUT="SaleOptOut",o.SHARING_OPT_OUT="SharingOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.PERSONAL_DATA_CONSENTS="PersonalDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(c||(c={}));var Ie=class extends B{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(c.VERSION.toString(),new l(6,Ie.VERSION)),t.set(c.SHARING_NOTICE.toString(),new l(2,0)),t.set(c.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.SHARING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new l(2,0)),t.set(c.SALE_OPT_OUT.toString(),new l(2,0)),t.set(c.SHARING_OPT_OUT.toString(),new l(2,0)),t.set(c.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(c.SENSITIVE_DATA_PROCESSING.toString(),new U(2,[0,0,0,0,0,0,0,0,0,0,0,0])),t.set(c.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new U(2,[0,0])),t.set(c.PERSONAL_DATA_CONSENTS.toString(),new l(2,0)),t.set(c.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(c.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(c.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(c.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(c.GPC_SEGMENT_INCLUDED.toString(),new m(!0)),t.set(c.GPC.toString(),new m(!1));let s=[c.VERSION.toString(),c.SHARING_NOTICE.toString(),c.SALE_OPT_OUT_NOTICE.toString(),c.SHARING_OPT_OUT_NOTICE.toString(),c.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),c.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),c.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),c.SALE_OPT_OUT.toString(),c.SHARING_OPT_OUT.toString(),c.TARGETED_ADVERTISING_OPT_OUT.toString(),c.SENSITIVE_DATA_PROCESSING.toString(),c.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),c.PERSONAL_DATA_CONSENTS.toString(),c.MSPA_COVERED_TRANSACTION.toString(),c.MSPA_OPT_OUT_OPTION_MODE.toString(),c.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[c.GPC_SEGMENT_TYPE.toString(),c.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(c.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(c.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Ie.ID}getName(){return Ie.NAME}},C=Ie;a(C,"ID",7),a(C,"VERSION",1),a(C,"NAME","usnatv1");var _;(function(o){o.VERSION="Version",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",o.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",o.SALE_OPT_OUT="SaleOptOut",o.SHARING_OPT_OUT="SharingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.PERSONAL_DATA_CONSENTS="PersonalDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(_||(_={}));var me=class extends B{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(_.VERSION.toString(),new l(6,me.VERSION)),t.set(_.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(_.SHARING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(_.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new l(2,0)),t.set(_.SALE_OPT_OUT.toString(),new l(2,0)),t.set(_.SHARING_OPT_OUT.toString(),new l(2,0)),t.set(_.SENSITIVE_DATA_PROCESSING.toString(),new U(2,[0,0,0,0,0,0,0,0,0])),t.set(_.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new U(2,[0,0])),t.set(_.PERSONAL_DATA_CONSENTS.toString(),new l(2,0)),t.set(_.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(_.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(_.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(_.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(_.GPC_SEGMENT_INCLUDED.toString(),new m(!0)),t.set(_.GPC.toString(),new m(!1));let s=[_.VERSION.toString(),_.SALE_OPT_OUT_NOTICE.toString(),_.SHARING_OPT_OUT_NOTICE.toString(),_.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),_.SALE_OPT_OUT.toString(),_.SHARING_OPT_OUT.toString(),_.SENSITIVE_DATA_PROCESSING.toString(),_.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),_.PERSONAL_DATA_CONSENTS.toString(),_.MSPA_COVERED_TRANSACTION.toString(),_.MSPA_OPT_OUT_OPTION_MODE.toString(),_.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[_.GPC_SEGMENT_TYPE.toString(),_.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(_.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(_.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return me.ID}getName(){return me.NAME}},R=me;a(R,"ID",8),a(R,"VERSION",1),a(R,"NAME","uscav1");var f;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"})(f||(f={}));var Ae=class extends Z{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(f.VERSION.toString(),new l(6,Ae.VERSION)),t.set(f.SHARING_NOTICE.toString(),new l(2,0)),t.set(f.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(f.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(f.SALE_OPT_OUT.toString(),new l(2,0)),t.set(f.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(f.SENSITIVE_DATA_PROCESSING.toString(),new U(2,[0,0,0,0,0,0,0,0])),t.set(f.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new l(2,0)),t.set(f.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(f.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(f.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0));let s=[f.VERSION.toString(),f.SHARING_NOTICE.toString(),f.SALE_OPT_OUT_NOTICE.toString(),f.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),f.SALE_OPT_OUT.toString(),f.TARGETED_ADVERTISING_OPT_OUT.toString(),f.SENSITIVE_DATA_PROCESSING.toString(),f.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),f.MSPA_COVERED_TRANSACTION.toString(),f.MSPA_OPT_OUT_OPTION_MODE.toString(),f.MSPA_SERVICE_PROVIDER_MODE.toString()];super(t,s),e&&e.length>0&&this.decode(e)}encode(){return this.base64UrlEncoder.encode(this.encodeToBitString())}decode(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}getId(){return Ae.ID}getName(){return Ae.NAME}},w=Ae;a(w,"ID",9),a(w,"VERSION",1),a(w,"NAME","usvav1");var h;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(h||(h={}));var Pe=class extends B{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(h.VERSION.toString(),new l(6,Pe.VERSION)),t.set(h.SHARING_NOTICE.toString(),new l(2,0)),t.set(h.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(h.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(h.SALE_OPT_OUT.toString(),new l(2,0)),t.set(h.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(h.SENSITIVE_DATA_PROCESSING.toString(),new U(2,[0,0,0,0,0,0,0])),t.set(h.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new l(2,0)),t.set(h.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(h.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(h.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(h.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(h.GPC_SEGMENT_INCLUDED.toString(),new m(!0)),t.set(h.GPC.toString(),new m(!1));let s=[h.VERSION.toString(),h.SHARING_NOTICE.toString(),h.SALE_OPT_OUT_NOTICE.toString(),h.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),h.SALE_OPT_OUT.toString(),h.TARGETED_ADVERTISING_OPT_OUT.toString(),h.SENSITIVE_DATA_PROCESSING.toString(),h.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),h.MSPA_COVERED_TRANSACTION.toString(),h.MSPA_OPT_OUT_OPTION_MODE.toString(),h.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[h.GPC_SEGMENT_TYPE.toString(),h.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(h.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(h.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Pe.ID}getName(){return Pe.NAME}},M=Pe;a(M,"ID",10),a(M,"VERSION",1),a(M,"NAME","uscov1");var T;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"})(T||(T={}));var De=class extends Z{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(T.VERSION.toString(),new l(6,De.VERSION)),t.set(T.SHARING_NOTICE.toString(),new l(2,0)),t.set(T.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(T.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(T.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(T.SALE_OPT_OUT.toString(),new l(2,0)),t.set(T.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(T.SENSITIVE_DATA_PROCESSING.toString(),new U(2,[0,0,0,0,0,0,0,0])),t.set(T.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new l(2,0)),t.set(T.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(T.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(T.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0));let s=[T.VERSION.toString(),T.SHARING_NOTICE.toString(),T.SALE_OPT_OUT_NOTICE.toString(),T.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),T.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),T.SALE_OPT_OUT.toString(),T.TARGETED_ADVERTISING_OPT_OUT.toString(),T.SENSITIVE_DATA_PROCESSING.toString(),T.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),T.MSPA_COVERED_TRANSACTION.toString(),T.MSPA_OPT_OUT_OPTION_MODE.toString(),T.MSPA_SERVICE_PROVIDER_MODE.toString()];super(t,s),e&&e.length>0&&this.decode(e)}encode(){return this.base64UrlEncoder.encode(this.encodeToBitString())}decode(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}getId(){return De.ID}getName(){return De.NAME}},x=De;a(x,"ID",11),a(x,"VERSION",1),a(x,"NAME","usutv1");var u;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(u||(u={}));var Ce=class extends B{base64UrlEncoder=new L;constructor(e){let t=new Map;t.set(u.VERSION.toString(),new l(6,Ce.VERSION)),t.set(u.SHARING_NOTICE.toString(),new l(2,0)),t.set(u.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(u.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(u.SALE_OPT_OUT.toString(),new l(2,0)),t.set(u.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(u.SENSITIVE_DATA_PROCESSING.toString(),new U(2,[0,0,0,0,0,0,0,0])),t.set(u.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new U(2,[0,0,0])),t.set(u.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(u.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(u.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(u.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(u.GPC_SEGMENT_INCLUDED.toString(),new m(!0)),t.set(u.GPC.toString(),new m(!1));let s=[u.VERSION.toString(),u.SHARING_NOTICE.toString(),u.SALE_OPT_OUT_NOTICE.toString(),u.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),u.SALE_OPT_OUT.toString(),u.TARGETED_ADVERTISING_OPT_OUT.toString(),u.SENSITIVE_DATA_PROCESSING.toString(),u.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),u.MSPA_COVERED_TRANSACTION.toString(),u.MSPA_OPT_OUT_OPTION_MODE.toString(),u.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[u.GPC_SEGMENT_TYPE.toString(),u.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(u.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(u.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Ce.ID}getName(){return Ce.NAME}},V=Ce;a(V,"ID",12),a(V,"VERSION",1),a(V,"NAME","usctv1");var O=class{};a(O,"SECTION_ID_NAME_MAP",new Map([[A.ID,A.NAME],[P.ID,P.NAME],[D.ID,D.NAME],[C.ID,C.NAME],[R.ID,R.NAME],[w.ID,w.NAME],[M.ID,M.NAME],[x.ID,x.NAME],[V.ID,V.NAME]])),a(O,"SECTION_ORDER",[A.NAME,P.NAME,D.NAME,C.NAME,R.NAME,w.NAME,M.NAME,x.NAME,V.NAME]);var b=class extends g{constructor(e){super(e),this.name="LazyDecodingError"}};var Re=class{sections=new Map;encodedString;decoded;dirty;constructor(e){e?(this.encodedString=e,this.decoded=!1,this.dirty=!1):(this.encodedString="DBAA",this.decoded=!1,this.dirty=!1)}setFieldValue(e,t,s){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(n){throw new b(n.message)}let r=null;if(this.sections.has(e)?r=this.sections.get(e):e===P.NAME?(r=new P,this.sections.set(P.NAME,r)):e===A.NAME?(r=new A,this.sections.set(A.NAME,r)):e===D.NAME?(r=new D,this.sections.set(D.NAME,r)):e===C.NAME?(r=new C,this.sections.set(C.NAME,r)):e===R.NAME?(r=new R,this.sections.set(R.NAME,r)):e===w.NAME?(r=new w,this.sections.set(w.NAME,r)):e===M.NAME?(r=new M,this.sections.set(M.NAME,r)):e===x.NAME?(r=new x,this.sections.set(x.NAME,r)):e===V.NAME&&(r=new V,this.sections.set(V.NAME,r)),r)r.setFieldValue(t,s),this.dirty=!0;else throw new de(e+"."+t+" not found")}setFieldValueBySectionId(e,t,s){this.setFieldValue(O.SECTION_ID_NAME_MAP.get(e),t,s)}getFieldValue(e,t){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(s){throw new b(s.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}getFieldValueBySectionId(e,t){return this.getFieldValue(O.SECTION_ID_NAME_MAP.get(e),t)}hasField(e,t){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(s){throw new b(s.message)}return this.sections.has(e)?this.sections.get(e).hasField(t):!1}hasFieldBySectionId(e,t){return this.hasField(O.SECTION_ID_NAME_MAP.get(e),t)}hasSection(e){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}return this.sections.has(e)}hasSectionId(e){return this.hasSection(O.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}this.sections.delete(e),this.dirty=!0}deleteSectionById(e){this.deleteSection(O.SECTION_ID_NAME_MAP.get(e))}clear(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}getHeader(){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}let e=new j;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}let e=[];for(let t=0;t<O.SECTION_ORDER.length;t++){let s=O.SECTION_ORDER[t];if(this.sections.has(s)){let r=this.sections.get(s);e.push(r.getId())}}return e}encode(){if(!this.dirty)return this.encodedString;if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(r){throw new b(r.message)}let e=[],t=[];for(let r=0;r<O.SECTION_ORDER.length;r++){let n=O.SECTION_ORDER[r];if(this.sections.has(n)){let i=this.sections.get(n);e.push(i.encode()),t.push(i.getId())}}let s=new j;return s.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(s.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}decode(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();let t=e.split("~"),s=new j(t[0]);this.sections.set(j.NAME,s);let r=s.getFieldValue("SectionIds");for(let n=0;n<r.length;n++)if(r[n]===P.ID){let i=new P(t[n+1]);this.sections.set(P.NAME,i)}else if(r[n]===A.ID){let i=new A(t[n+1]);this.sections.set(A.NAME,i)}else if(r[n]===D.ID){let i=new D(t[n+1]);this.sections.set(D.NAME,i)}else if(r[n]===C.ID){let i=new C(t[n+1]);this.sections.set(C.NAME,i)}else if(r[n]===R.ID){let i=new R(t[n+1]);this.sections.set(R.NAME,i)}else if(r[n]===w.ID){let i=new w(t[n+1]);this.sections.set(w.NAME,i)}else if(r[n]===M.ID){let i=new M(t[n+1]);this.sections.set(M.NAME,i)}else if(r[n]===x.ID){let i=new x(t[n+1]);this.sections.set(x.NAME,i)}else if(r[n]===V.ID){let i=new V(t[n+1]);this.sections.set(V.NAME,i)}this.decoded=!0,this.dirty=!1}encodeSection(e){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}return this.sections.has(e)?this.sections.get(e).encode():null}encodeSectionById(e){return this.encodeSection(O.SECTION_ID_NAME_MAP.get(e))}decodeSection(e,t){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(r){throw new b(r.message)}let s=null;this.sections.has(e)?s=this.sections.get(e):e===P.NAME?(s=new P,this.sections.set(P.NAME,s)):e===A.NAME?(s=new A,this.sections.set(A.NAME,s)):e===D.NAME?(s=new D,this.sections.set(D.NAME,s)):e===C.NAME?(s=new C,this.sections.set(C.NAME,s)):e===R.NAME?(s=new R,this.sections.set(R.NAME,s)):e===w.NAME?(s=new w,this.sections.set(w.NAME,s)):e===M.NAME?(s=new M,this.sections.set(M.NAME,s)):e===x.NAME?(s=new x,this.sections.set(x.NAME,s)):e===V.NAME&&(s=new V,this.sections.set(V.NAME,s)),s&&s.decode(t)}decodeSectionById(e,t){this.decodeSection(O.SECTION_ID_NAME_MAP.get(e),t)}toObject(){if(!this.decoded&&this.encodedString!=null&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(t){throw new b(t.message)}let e={};for(let t=0;t<O.SECTION_ORDER.length;t++){let s=O.SECTION_ORDER[t];this.sections.has(s)&&(e[s]=this.sections.get(s).toObj())}return e}};var We=class{gppVersion="1.1";supportedAPIs=[];eventQueue=new Fe(this);cmpStatus=re.LOADING;cmpDisplayStatus=oe.HIDDEN;signalStatus=ne.NOT_READY;applicableSections=[];gppModel=new Re;cmpId;cmpVersion;eventStatus;reset(){this.eventQueue.clear(),this.cmpStatus=re.LOADING,this.cmpDisplayStatus=oe.HIDDEN,this.signalStatus=ne.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new Re,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}};var ce=class{static absCall(e,t,s,r){return new Promise((n,i)=>{let d=new XMLHttpRequest,I=()=>{if(d.readyState==XMLHttpRequest.DONE)if(d.status>=200&&d.status<300){let Le=d.response;if(typeof Le=="string")try{Le=JSON.parse(Le)}catch{}n(Le)}else i(new Error(`HTTP Status: ${d.status} response type: ${d.responseType}`))},H=()=>{i(new Error("error"))},Ve=()=>{i(new Error("aborted"))},ge=()=>{i(new Error("Timeout "+r+"ms "+e))};d.withCredentials=s,d.addEventListener("load",I),d.addEventListener("error",H),d.addEventListener("abort",Ve),t===null?d.open("GET",e,!0):d.open("POST",e,!0),d.responseType="json",d.timeout=r,d.ontimeout=ge,d.send(t)})}static post(e,t,s=!1,r=0){return this.absCall(e,JSON.stringify(t),s,r)}static fetch(e,t=!1,s=0){return this.absCall(e,null,t,s)}};var le=class extends Error{constructor(e){super(e),this.name="GVLError"}};var Me=class{has(e){return Me.langSet.has(e)}forEach(e){Me.langSet.forEach(e)}get size(){return Me.langSet.size}},we=Me;a(we,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var xe=class{vendors;consentLanguages=new we;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;stacks;dataCategories;language=xe.DEFAULT_LANGUAGE;vendorIds;ready=!1;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;baseUrl;languageFilename="purposes-[LANG].json";static fromVendorList(e){let t=new xe;return t.populate(e),t}static async fromUrl(e){let t=e.baseUrl;if(!t||t.length===0)throw new le("Invalid baseUrl: '"+t+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new le("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");t.length>0&&t[t.length-1]!=="/"&&(t+="/");let s=new xe;if(s.baseUrl=t,e.languageFilename?s.languageFilename=e.languageFilename:s.languageFilename="purposes-[LANG].json",e.version>0){let r=e.versionedFilename;r||(r="archives/vendor-list-v[VERSION].json");let n=t+r.replace("[VERSION]",String(e.version));s.populate(await ce.fetch(n))}else{let r=e.latestFilename;r||(r="vendor-list.json");let n=t+r;s.populate(await ce.fetch(n))}return s}async changeLanguage(e){let t=e.toUpperCase();if(this.consentLanguages.has(t)){if(t!==this.language){this.language=t;let s=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(await ce.fetch(s))}catch(r){throw new le("unable to load language: "+r.message)}}}else throw new le(`unsupported language ${e}`)}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}isVendorList(e){return e!==void 0&&e.vendors!==void 0}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,typeof this.lastUpdated=="string"&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(t=>{this.byPurposeVendorMap[t]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(t=>{this.bySpecialPurposeVendorMap[t]=new Set}),Object.keys(this.features).forEach(t=>{this.byFeatureVendorMap[t]=new Set}),Object.keys(this.specialFeatures).forEach(t=>{this.bySpecialFeatureVendorMap[t]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(t=>+t)),this.vendorIds=new Set(e),this.vendors=e.reduce((t,s)=>{let r=this.vendors[String(s)];return r&&r.deletedDate===void 0&&(r.purposes.forEach(n=>{this.byPurposeVendorMap[String(n)].consent.add(s)}),r.specialPurposes.forEach(n=>{this.bySpecialPurposeVendorMap[String(n)].add(s)}),r.legIntPurposes.forEach(n=>{this.byPurposeVendorMap[String(n)].legInt.add(s)}),r.flexiblePurposes&&r.flexiblePurposes.forEach(n=>{this.byPurposeVendorMap[String(n)].flexible.add(s)}),r.features.forEach(n=>{this.byFeatureVendorMap[String(n)].add(s)}),r.specialFeatures.forEach(n=>{this.bySpecialFeatureVendorMap[String(n)].add(s)}),t[s]=r),t},{})}getFilteredVendors(e,t,s,r){let n=e.charAt(0).toUpperCase()+e.slice(1),i,d={};return e==="purpose"&&s?i=this["by"+n+"VendorMap"][String(t)][s]:i=this["by"+(r?"Special":"")+n+"VendorMap"][String(t)],i.forEach(I=>{d[String(I)]=this.vendors[String(I)]}),d}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.ready}static isInstanceOf(e){return typeof e=="object"&&typeof e.narrowVendorsTo=="function"}},pe=xe;a(pe,"DEFAULT_LANGUAGE","EN");var Ke=class{callResponder;cmpApiContext;constructor(e,t,s){this.cmpApiContext=new We,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new He(this.cmpApiContext,s)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}fireSectionChange(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}getEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}setCmpDisplayStatus(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}getSignalStatus(){return this.cmpApiContext.signalStatus}setSignalStatus(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}getApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}getSupportedAPIs(){return this.cmpApiContext.supportedAPIs}setSupportedAPIs(e){this.cmpApiContext.supportedAPIs=e}setGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}setSectionString(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}setSectionStringById(e,t){this.setSectionString(O.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(O.SECTION_ID_NAME_MAP.get(e))}setFieldValue(e,t,s){this.cmpApiContext.gppModel.setFieldValue(e,t,s)}setFieldValueBySectionId(e,t,s){this.setFieldValue(O.SECTION_ID_NAME_MAP.get(e),t,s)}getFieldValue(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}getFieldValueBySectionId(e,t){return this.getFieldValue(O.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(O.SECTION_ID_NAME_MAP.get(e))}hasSection(e){return this.cmpApiContext.gppModel.hasSection(e)}hasSectionId(e){return this.hasSection(O.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.cmpApiContext.gppModel.deleteSection(e)}deleteSectionById(e){this.deleteSection(O.SECTION_ID_NAME_MAP.get(e))}clear(){this.cmpApiContext.gppModel.clear()}getObject(){return this.cmpApiContext.gppModel.toObject()}getGvlFromVendorList(e){return pe.fromVendorList(e)}async getGvlFromUrl(e){return pe.fromUrl(e)}};var Xe=class{constructor(){this.cmpStatus=re;this.displayStatus=oe}getCmpApi(e,t,s){return new Ke(e,t,s)}},je=new Xe,Et={gppCmpApi:je.getCmpApi,cmpStatus:je.cmpStatus,displayStatus:je.displayStatus,signalStatus:ne};window.otIabModule=ze(qe({},window.otIabModule),{gppSdkRef:Et});})();
