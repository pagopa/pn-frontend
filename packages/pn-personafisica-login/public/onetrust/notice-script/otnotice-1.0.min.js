"use strict";var OneTrust,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,a,s,c){return new(s=s||Promise)(function(n,t){function i(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,r)}o((c=c.apply(e,a||[])).next())})},__generator=this&&this.__generator||function(i,r){var o,a,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},l={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function e(n){return function(e){var t=[n,e];if(o)throw new TypeError("Generator is already executing.");for(;c=l&&t[l=0]?0:c;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,a=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(i,c)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},__extends=this&&this.__extends||function(){var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||((i=i||Array.prototype.slice.call(t,0,r))[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ES6Promise=t()}(this,function(){function l(e){return"function"==typeof e}function t(){var e=setTimeout;return function(){return e(n,1)}}function n(){for(var e=0;e<o;e+=2)(0,S[e])(S[e+1]),S[e]=void 0,S[e+1]=void 0;o=0}function a(e,t){var n,i=this,r=new this.constructor(c),o=(void 0===r[O]&&b(r),i._state);return o?(n=arguments[o-1],_(function(){return m(o,r,n,i._result)})):h(i,r,e,t),r}function s(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(c);return p(t,e),t}function c(){}function u(e){try{return e.then}catch(e){return H.error=e,H}}function x(e,i,r){_(function(t){var n=!1,e=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(r,i,function(e){n||(n=!0,(i!==e?p:g)(t,e))},function(e){n||(n=!0,f(t,e))},t._label);!n&&e&&(n=!0,f(t,e))},e)}function d(e,t,n){var i,r;t.constructor===e.constructor&&n===a&&t.constructor.resolve===s?(i=e,(r=t)._state===E?g(i,r._result):r._state===A?f(i,r._result):h(r,void 0,function(e){return p(i,e)},function(e){return f(i,e)})):n===H?(f(e,H.error),H.error=null):void 0!==n&&l(n)?x(e,t,n):g(e,t)}function p(e,t){var n;e===t?f(e,new TypeError("You cannot resolve a promise with itself")):(n=typeof t,null===t||"object"!=n&&"function"!=n?g(e,t):d(e,t,u(t)))}function j(e){e._onerror&&e._onerror(e._result),y(e)}function g(e,t){e._state===P&&(e._result=t,e._state=E,0!==e._subscribers.length&&_(y,e))}function f(e,t){e._state===P&&(e._state=A,e._result=t,_(j,e))}function h(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+E]=n,r[o+A]=i,0===o&&e._state&&_(y,e)}function y(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r=void 0,o=e._result,a=0;a<t.length;a+=3)i=t[a],r=t[a+n],i?m(n,i,r,o):r(o);e._subscribers.length=0}}function m(e,t,n,i){var r=l(n),o=void 0,a=void 0,s=void 0,c=void 0;if(r){if((o=function(e,t){try{return e(t)}catch(e){return H.error=e,H}}(n,i))===H?(c=!0,a=o.error,o.error=null):s=!0,t===o)return void f(t,new TypeError("A promises callback cannot return that same promise."))}else o=i,s=!0;t._state===P&&(r&&s?p(t,o):c?f(t,a):e===E?g(t,o):e===A&&f(t,o))}function b(e){e[O]=D++,e._state=void 0,e._result=void 0,e._subscribers=[]}var e,i,r,v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,N=void 0,C=void 0,_=function(e,t){S[o]=e,S[o+1]=t,2===(o+=2)&&(C?C(n):U())},T="undefined"!=typeof window?window:void 0,w=T||{},w=w.MutationObserver||w.WebKitMutationObserver,L="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),B="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,S=new Array(1e3),U=void 0,U=L?function(){return process.nextTick(n)}:w?(i=0,L=new w(n),r=document.createTextNode(""),L.observe(r,{characterData:!0}),function(){r.data=i=++i%2}):B?((e=new MessageChannel).port1.onmessage=n,function(){return e.port2.postMessage(0)}):(void 0===T&&"function"==typeof require?function(){try{var e=Function("return this")().require("vertx");return void 0!==(N=e.runOnLoop||e.runOnContext)?function(){N(n)}:t()}catch(e){return t()}}:t)(),O=Math.random().toString(36).substring(2),P=void 0,E=1,A=2,H={error:null},D=0,F=(I.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},I.prototype._eachEntry=function(t,e){var n,i,r=this._instanceConstructor,o=r.resolve;o===s?(n=u(t))===a&&t._state!==P?this._settledAt(t._state,e,t._result):"function"!=typeof n?(this._remaining--,this._result[e]=t):r===k?(d(i=new r(c),t,n),this._willSettleAt(i,e)):this._willSettleAt(new r(function(e){return e(t)}),e):this._willSettleAt(o(t),e)},I.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===P&&(this._remaining--,e===A?f(i,n):this._result[t]=n),0===this._remaining&&g(i,this._result)},I.prototype._willSettleAt=function(e,t){var n=this;h(e,void 0,function(e){return n._settledAt(E,t,e)},function(e){return n._settledAt(A,t,e)})},I),k=(M.prototype.catch=function(e){return this.then(null,e)},M.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})})},M);function M(e){if(this[O]=D++,this._result=this._state=void 0,this._subscribers=[],c!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof M))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e(function(e){p(t,e)},function(e){f(t,e)})}catch(e){f(t,e)}}}function I(e,t){this._instanceConstructor=e,this.promise=new e(c),this.promise[O]||b(this.promise),v(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?g(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&g(this.promise,this._result))):f(this.promise,new Error("Array Methods must be provided an Array"))}return k.prototype.then=a,k.all=function(e){return new F(this,e).promise},k.race=function(r){var o=this;return new o(v(r)?function(e,t){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(e,t)}:function(e,t){return t(new TypeError("You must pass an array to race."))})},k.resolve=s,k.reject=function(e){var t=new this(c);return f(t,e),t},k._setScheduler=function(e){C=e},k._setAsap=function(e){_=e},k._asap=_,k.polyfill=function(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=k},(k.Promise=k).polyfill(),k}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=t[r];if(e.call(i,o,r,t))return o;r++}}}),(OneTrust||(OneTrust={})).HttpResponse=function(e,t){this._responseText=e,this._statusCode=t,this.responseText=e,this.statusCode=t},(OneTrust||(OneTrust={})).ElementDefinition=function(){},function(e){var t;(t=e.HttpMethods||(e.HttpMethods={})).GET="GET",t.POST="POST",t.PUT="PUT",(t=e.PolicyType||(e.PolicyType={})).PRIVACY_NOTICE="PRIVACY_NOTICE",t.DIGITAL_POLICY="DIGITAL_POLICY"}(OneTrust=OneTrust||{}),function(c){function o(){}o.GetParameterByName=function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null},o.AddListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,function(){return n.call(e,window.event)}):e["on"+t]=n,!0},o.FindElementById=function(e){return document.getElementById(e)},o.FindElementsByClass=function(e,t){return this.FormHTMLElementsArray((t||document).getElementsByClassName(e))},o.FindElementsByTagName=function(e){return this.FormHTMLElementsArray(document.getElementsByTagName(e))},o.FormHTMLElementsArray=function(e){return Array.from?Array.from(e):[].slice.call(e)},o.CreateElement=function(e){return document.createElement(e)},o.CreateTextNode=function(e){return document.createTextNode(e)},o.JsonCall=function(e,t,n){var i=new XMLHttpRequest;return i.open(e,t,!1),i.setRequestHeader("Content-Type","application/json"),i.onerror=function(){},i.send(n),new c.HttpResponse(i.responseText,i.status)},o.JsonCallAsync=function(e,r,o,a,s){return void 0===o&&(o=""),void 0===a&&(a=""),new Promise(function(t,n){var i=new XMLHttpRequest;i.onload=function(){var e=new c.HttpResponse(i.responseText,i.status);(200<=i.status&&i.status<300?t:n)(e)},i.onerror=function(){var e=new c.HttpResponse(i.responseText,i.status);n(e)},i.open(e,r,!0),i.setRequestHeader("Content-Type","application/json"),s&&(s.startsWith("Bearer")||(s="Bearer ".concat(s)),i.setRequestHeader("Authorization",s)),a&&i.setRequestHeader("Cache-Control",a),i.send(o)})},o.HtmlEncode=function(e){var t;return e&&((t=o.CreateElement("div")).innerText=t.textContent=e,e=t.innerHTML),e},o.unicodeBase64Decode=function(e){return decodeURIComponent(Array.prototype.map.call(window.atob(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},o.FindElementByDefinition=function(e,t){for(var n=this.FindElementsByTagName(t),i=[],r=!1,o=0;o<n.length;o++){var a=n[o],s=a.getAttribute(e.identifierAttributes||e.targetElementAttribute||"");if(s===e.identifierValues||s===e.targetElementValue){var c=a.getAttribute("type");switch(c){case"radio":case"checkbox":r="radio"===c,i.push(a);break;default:return a}}}return i.length&&(t=i.filter(function(e){return e.checked||e.getAttribute("checked")})).length?r?t[0]:t:null},o.GetPageDomain=function(){return window.location.hostname.replace("www.","")},o.AddDropdownOption=function(e,t,n,i){if(void 0===i&&(i=!1),!e)return!1;n=(n=void 0===n?"":n)||t;var r=o.CreateElement("option");return r.label=n,r.text=n,r.value=t,r.selected=i,e.add(r),!0},o.InjectCss=function(e,t){var n;e&&((n=document.createElement("link")).setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t&&n.setAttribute("class",t),document.head.appendChild(n))},o.RemoveByClass=function(e,t){for(var n=this.FindElementsByTagName(e),i=0,r=n.length-1;0<=r;r--){var o=n[r];o.className===t&&(document.head.removeChild(o),i++)}return i},o.RemoveByUrl=function(e,t){for(var n=this.FindElementsByTagName(e),i=0,r=n.length-1;0<=r;r--){var o=n[r];o.href===t&&(document.head.removeChild(o),i++)}return i},o.GetDocumentLanguage=function(){return document.documentElement.lang},o.ToggleHTMLElementClass=function(e,t){e.classList.toggle(t)},o.UpdateHTMLElementInnerHTML=function(e,t){e.innerHTML=t},o.RemoveHTMLElementClass=function(e,t){e.classList.remove(t)},o.OrderBy=function(e,i,r){return void 0===r&&(r=!1),!e||e.length<2||!i?e:e.sort(function(e,t){e=e[i],t=t[i];if(e===t)return 0;var n=r?-1:1;return t<e?n:-n})},c.NoticeHelpers=o}(OneTrust=OneTrust||{}),function(e){function t(){}Object.defineProperty(t,"NoticeScriptId",{get:function(){return"otprivacy-notice-script"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeVersionClass",{get:function(){return"otnotice__version"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Timestamp",{get:function(){return"TIMESTAMP"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CssAssetClass",{get:function(){return"otnotice-css"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeLanguageDropdownId",{get:function(){return"otnotice-language-dropdown"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeLanguageDropdownContainer",{get:function(){return"otnotice-language-dropdown-container"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Settings",{get:function(){return"settings"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SettingsUrl",{get:function(){return"settingsUrl"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BundleUrl",{get:function(){return"bundleUrl"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ScriptSubFolder",{get:function(){return"consent-receipt-scripts"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MobileMenu",{get:function(){return"otnotice-menu-mobile"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MobileMenuContainer",{get:function(){return"otnotice-menu-mobile-container"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SelectedMenu",{get:function(){return"otnotice-menu-selected"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MobileMenuSection",{get:function(){return"otnotice-menu-section-mobile"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CollapseExpandIcon",{get:function(){return"otnotice-collapse-expand-icon"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeLayerBreakerHeaderClass",{get:function(){return"ot-notice-layer-breaker-header"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeLayerBreakerContentClass",{get:function(){return"ot-notice-layer-breaker-content"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeLayerBreakerFooterId",{get:function(){return"ot-notice-layer-break-footer"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NoticeLayerBreakerHeaderId",{get:function(){return"ot-notice-layer-break-header"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CookieLinkElementClass",{get:function(){return"optanon-toggle-display"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CookieButtonElementId",{get:function(){return"ot-sdk-btn"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"CookieListElementId",{get:function(){return"ot-sdk-cookie-policy"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DigitalPolicyLanguageDropdownContainerClass",{get:function(){return"ot-privacy-notice-language-dropdown-container"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DigitalPolicyLanguageDropdownClass",{get:function(){return"ot-digital-policy-language-dropdown"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DigitalPolicyLanguageDropdownSelectedClass",{get:function(){return"ot-digital-policy-language-selected"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DigitalPolicyLanguageDropdownOptionClass",{get:function(){return"ot-digital-policy-language-option"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DigitalPolicyLanguageDropdownOptionToggleClass",{get:function(){return"option-display-toggle"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DigitalPolicyLanguageDropdownWrapperClass",{get:function(){return"ot-digital-policy-language-dropdown-wrapper"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TimestampSeparatorClass",{get:function(){return"otnotice-timestamp-separator"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"VariablePlaceholderClass",{get:function(){return"ot-variable-placeholder"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"VariablePlaceholderIdPrefix",{get:function(){return"ot-variable-placeholder"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"VariableElementIdPrefix",{get:function(){return"ot-builder-variable"},enumerable:!1,configurable:!0}),e.NoticeConstants=t}(OneTrust=OneTrust||{}),(OneTrust||(OneTrust={})).SdkSettingsBase=function(){},function(r){t.MergeExternalSettings=function(n,i){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,r.NoticeHelpers.JsonCallAsync(r.HttpMethods.GET,i)];case 1:return(t=e.sent())&&200===t.statusCode?(t=JSON.parse(t.responseText||"{}"),[2,__assign(__assign({},n),t)]):[2,null]}})})},t.ReadSettingsString=function(){var e=this.SdkSettings;return e?(e=r.NoticeHelpers.unicodeBase64Decode(e),JSON.parse(e)):{}},Object.defineProperty(t,"ScriptBaseUrl",{get:function(){return this.ScriptOption("src").split("/".concat(r.NoticeConstants.ScriptSubFolder))[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SdkSettings",{get:function(){return this.ScriptOption(r.NoticeConstants.Settings)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SdkSettingsUrl",{get:function(){var e=this.ScriptOption(r.NoticeConstants.SettingsUrl);return-1!==(e=this.isPreview&&-1===e.indexOf("-draft")&&-1!==e.indexOf("-active")?e.replace("-active","-draft"):e).indexOf("-draft")&&(this.isTestMode=!0),e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BundleUrl",{get:function(){return this.ScriptOption(r.NoticeConstants.BundleUrl)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ScriptTagElement",{get:function(){return r.NoticeHelpers.FindElementById(this.ScriptTagId)},enumerable:!1,configurable:!0}),t.ScriptOption=function(e){var t=this.ScriptTagElement.getAttribute(e),n=this.ScriptTagElement.getAttribute("data-"+e);return t||n||this.ScriptContentOption(e)},t.ScriptContentOption=function(e){if(this.ScriptTagElement&&this.ScriptTagElement.innerText)for(var t=this.ScriptTagElement.innerText.split(" ").join("").split(";"),n=0;n<t.length;n++){var i=t[n].split("=",2);if(i[0].trim()===e)return i[1].trim().split('"').join("").split("\\x3d").join("=")}return""},t.ScriptTagId="",t.isPreview=!1,t.isTestMode=!1;var e=t;function t(){}r.NoticeScriptTagBase=e}(OneTrust=OneTrust||{}),function(e){t=e.ElementDefinition,__extends(i,t);var t,n=i;function i(){return null!==t&&t.apply(this,arguments)||this}e.NoticeDefinition=n}(OneTrust=OneTrust||{}),function(e){t=e.SdkSettingsBase,__extends(i,t);var t,n=i;function i(){return null!==t&&t.apply(this,arguments)||this}e.NoticeSdkSettings=n}(OneTrust=OneTrust||{}),function(e){t=e.NoticeScriptTagBase,__extends(i,t),Object.defineProperty(i,"Settings",{get:function(){return this._settings||(this._settings=this.ReadSettingsString()),this._settings},enumerable:!1,configurable:!0}),Object.defineProperty(i,"LanguageDropdownElementId",{get:function(){return this.ScriptOption("languageDropdownElementId")||e.NoticeConstants.NoticeLanguageDropdownId},enumerable:!1,configurable:!0}),i.GetExternalSettings=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,(t=this).MergeExternalSettings(this._settings,this.SdkSettingsUrl)];case 1:return t._settings=e.sent(),[2,!0]}})})},i.ScriptTagId=e.NoticeConstants.NoticeScriptId;var t,n=i;function i(){return null!==t&&t.apply(this,arguments)||this}e.NoticeScriptTag=n}(OneTrust=OneTrust||{}),function(e){function t(){}e.NoticeCallback=function(){};e.NoticeCallbackRequest=t}(OneTrust=OneTrust||{}),function(s){function e(e){this._definition=e,this.definition=e}e.prototype.display=function(e,t){var n;if(!this.definition)return null;var i=s.NoticeHelpers.FindElementByDefinition(this.definition,"div");if(!i)return null;if(!Boolean(e)?(i.innerHTML=this.definition.content||"",(e=this.legacyVersionElement())&&i.appendChild(e)):i.innerHTML=this.getContent(),this.updateTimeSeparator(),this.definition.contentCss&&0<this.definition.contentCss.length){for(var r=s.NoticeHelpers.FindElementsByClass(s.NoticeConstants.CssAssetClass),o=r.length-1;0<=o;o--)null!=(n=r[o].parentNode)&&n.removeChild(r[o]);this.definition.contentCss.forEach(function(e){if(!t&&e.includes("otnotice-core.css"))return null;s.NoticeHelpers.InjectCss(e,s.NoticeConstants.CssAssetClass)})}return i},e.prototype.getContent=function(){if(!this.definition.content)return"";var e=this.formatTimestamp();return this.definition.content.replace(s.NoticeConstants.Timestamp,e)},e.prototype.getCallbackPayload=function(e,t){return{domain:e,policyType:t,id:this.definition.id,tenantId:this.definition.tenantId,versionId:this.definition.versionId,language:this.definition.language,timestamp:new Date}},e.prototype.unload=function(){var t;return!!(this.definition&&this.definition.contentCss&&0<this.definition.contentCss.length)&&(t=0,this.definition.contentCss.forEach(function(e){e=s.NoticeHelpers.RemoveByUrl("link",e);t+=e}),0<t)},e.handleMobileViewMenuDisplay=function(){var t=this,n=s.NoticeHelpers.FindElementsByClass(s.NoticeConstants.MobileMenuContainer)[0],i=s.NoticeHelpers.FindElementById(s.NoticeConstants.SelectedMenu),r=s.NoticeHelpers.FindElementsByClass(s.NoticeConstants.MobileMenuSection),o=s.NoticeHelpers.FindElementById(s.NoticeConstants.CollapseExpandIcon);i.innerText=r[0].innerText.trim(),o.classList.add("otnotice-menu-display__expand"),n.style.display="none",s.WcagHelper.collapseExpandActions(o),s.NoticeHelpers.AddListener(o,"click",function(e){t.handleMenuDisplay(n,r,i,o,e)});for(var e=0;e<r.length;e++)s.NoticeHelpers.AddListener(r[e],"click",function(e){t.handleMenuDisplay(n,r,i,o,e)}),s.WcagHelper.collapseExpandMobileMenu(r[e])},e.updateVariablePlaceholders=function(){s.NoticeHelpers.FindElementsByClass(s.NoticeConstants.VariablePlaceholderClass).forEach(function(e){var t=null==(t=e.dataset.id)?void 0:t.split("".concat(s.NoticeConstants.VariablePlaceholderIdPrefix,"-"))[1],t=document.querySelector('[data-lang="'.concat(s.NoticeApi.SelectedNoticeLanguage,'"][data-id="').concat(s.NoticeConstants.VariableElementIdPrefix,"-").concat(t,'"]'));t&&t.innerHTML&&(e.innerHTML=t.innerHTML)})},e.handleMenuDisplay=function(e,t,n,i,r){"none"===e.style.display||void 0===e.style.display?(e.style.display="inline-block",i.classList.remove("otnotice-menu-display__expand"),i.classList.add("otnotice-menu-display__collapse"),n.innerText=""):(""!==r.target.innerText?n.innerText=r.target.innerText:n.innerText=t[0].innerText.trim(),e.style.display="none",i.classList.remove("otnotice-menu-display__collapse"),i.classList.add("otnotice-menu-display__expand"))},e.prototype.legacyVersionElement=function(){if(!this.definition.timestamp)return null;var e=s.NoticeHelpers.CreateElement("div"),t=new Date(this.definition.timestamp).toLocaleString();return e.className=s.NoticeConstants.NoticeVersionClass,e.style.cssFloat="right",e.innerHTML=(this.definition.publicVersion?"#".concat(this.definition.publicVersion," "):"").concat(t),e},e.prototype.formatTimestamp=function(){if(!this.definition.timestamp)return"";if(!s.NoticeScriptTag.Settings.metadataApiUrl)return new Date(this.definition.timestamp).toLocaleString();try{var e=new Date(this.definition.timestamp),t=this.definition.language||"en-US",n=new Intl.DateTimeFormat(t,{year:"numeric",month:"long",day:"numeric"}),i=new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:!0}),r=n.format(e),o=i.format(e),a="".concat(r," (").concat(o.toLowerCase(),")");return a}catch(e){return new Date(this.definition.timestamp).toLocaleString()}},e.prototype.updateTimeSeparator=function(){var e=s.NoticeHelpers.FindElementsByClass(s.NoticeConstants.TimestampSeparatorClass);e&&0<e.length&&(e[0].innerHTML=" | ")},s.Notice=e}(OneTrust=OneTrust||{}),function(l){function e(){}Object.defineProperty(e,"isPrivacyNoticeMigrated",{get:function(){return this._isPrivacyNoticeMigrated},enumerable:!1,configurable:!0}),Object.defineProperty(e,"contentApiUrl",{get:function(){return this._contentApiUrl},enumerable:!1,configurable:!0}),e.VerifyMigrationStatusAndFetchVersionSchema=function(c){return __awaiter(this,void 0,void 0,function(){var t,n,i,r,o,a,s=this;return __generator(this,function(e){switch(e.label){case 0:return[4,l.NoticeHelpers.JsonCallAsync(l.HttpMethods.GET,c,"","no-cache")];case 1:return 200!==(t=e.sent()).statusCode?[2,t]:(n=JSON.parse(t.responseText||"")).isMigrated&&n.metaDataUrl&&n.contentApiUrl?(this._isPrivacyNoticeMigrated=!0,this._contentApiUrl=n.contentApiUrl,r=i="",o=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/gi,(o=c.match(o))&&2<=o.length?(i=o[0],r=o[1],o=c.includes("/draft/"),a=new URL(c),a="".concat(a.protocol,"//").concat(a.hostname),a="".concat(a,"/storage-container/").concat(i,"/privacy-notices/").concat(r),a="".concat(a,o?"/draft":"/published"),a="".concat(a,"/privacynotice.json"),[2,l.NoticeHelpers.JsonCallAsync(l.HttpMethods.PUT,n.metaDataUrl,JSON.stringify({digitalPolicyBlobUrl:a})).then(function(e){return Promise.resolve(e)}).catch(function(e){return s._isPrivacyNoticeMigrated=!1,Promise.resolve(t)})]):(this._isPrivacyNoticeMigrated=!1,[2,t])):[2,t]}})})},e._isPrivacyNoticeMigrated=!1,e._contentApiUrl="",l.NoticeRedirection=e}(OneTrust=OneTrust||{}),function(s){function e(){}e.LoadNoticeDefinitions=function(i,r,o,a){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(e){switch(e.label){case 0:return a&&o?[4,s.NoticeHelpers.JsonCallAsync(s.HttpMethods.PUT,a,JSON.stringify({digitalPolicyBlobUrl:i}))]:[3,2];case 1:return n=e.sent(),[3,4];case 2:return[4,s.NoticeRedirection.VerifyMigrationStatusAndFetchVersionSchema(i)];case 3:n=e.sent(),e.label=4;case 4:return 200!==(t=n).statusCode?[2,null]:[2,this.processLanguageSchema(r,t,o)]}})})},e.processLanguageSchema=function(r,o,a){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(e){switch(e.label){case 0:return this.IsLanguageSchema(o.responseText)?(t=JSON.parse(o.responseText||"")).languages?(i=r||s.NoticeHelpers.GetDocumentLanguage(),n=this.getNoticeLanguageFromSchema(t.languages,i),i=!n&&0<i.indexOf("-")?(i=this.getFallBackLanguageCode(i),this.getNoticeLanguageFromSchema(t.languages,i)):n,s.NoticeApi.SelectedNoticeLanguage=i,n=Object.keys(t.languages).map(function(e){return t.languages[e]}),s.NoticeApi.NoticeLanguages=n,(n=t.languages[i])||(i=this.getNoticeDefaultLanguage(t),n=t.languages[i],s.NoticeApi.SelectedNoticeLanguage=i),n?a||s.NoticeRedirection.isPrivacyNoticeMigrated&&s.NoticeRedirection.contentApiUrl?[4,s.NoticeHelpers.JsonCallAsync(s.HttpMethods.PUT,s.NoticeRedirection.isPrivacyNoticeMigrated?s.NoticeRedirection.contentApiUrl:a,JSON.stringify({digitalPolicyBlobUrl:n.policyUrl}))]:[3,2]:[2,null]):[2,null]:[3,5];case 1:return o=e.sent(),[3,4];case 2:return[4,s.NoticeHelpers.JsonCallAsync(s.HttpMethods.GET,n.policyUrl,"","no-cache")];case 3:o=e.sent(),e.label=4;case 4:if(200!==o.statusCode)return[2,null];e.label=5;case 5:try{return[2,JSON.parse(o.responseText||"")]}catch(e){return[2,null]}return[2]}})})},e.IsLanguageSchema=function(e){void 0===e&&(e="{}");e=JSON.parse(e);return e&&"notice"===e.schemaType},e.getNoticeDefaultLanguage=function(t){return t&&t.languages?Object.keys(t.languages).filter(function(e){return t.languages[e].isDefault})[0]:"en-us"},e.getFallBackLanguageCode=function(e){e=e.substr(0,e.indexOf("-"));return e},e.getNoticeLanguageFromSchema=function(e,t){e=Object.keys(e).find(function(e){return e.toLowerCase()===t.trim().toLowerCase()});return e||""},s.NoticeLanguageLoader=e}(OneTrust=OneTrust||{}),function(i){function r(){}r.prototype.onLoaded=function(e){var t=window.OneTrust.initializeCookiePolicyHtml;return t&&this.hasCookieContent(e)?(t(!0),Promise.resolve(!0)):Promise.resolve(!1)},r.prototype.hasCookieContent=function(e){if(r.SkipContentSearch)return!0;if(!e||0===e.length)return!1;var e=i.NoticeHelpers.FindElementById(i.NoticeConstants.CookieListElementId),t=i.NoticeHelpers.FindElementById(i.NoticeConstants.CookieButtonElementId),n=i.NoticeHelpers.FindElementsByClass(i.NoticeConstants.CookieLinkElementClass);return Boolean(e||t||n&&n.length)},r.SkipContentSearch=!1,i.NoticeCookieIntegrationPlugin=r}(OneTrust=OneTrust||{}),function(t){function e(){}e.GetNoticePlugins=function(){var e=new t.NoticeCookieIntegrationPlugin;return[e]},t.NoticePluginManager=e}(OneTrust=OneTrust||{}),function(i){function e(){}e.selectedOptionContainer=function(e){e.setAttribute("aria-label","Select language"),e.setAttribute("tabindex","0"),i.NoticeHelpers.AddListener(e,"keydown",function(e){"ArrowDown"===e.key&&document.querySelectorAll(".".concat(i.NoticeConstants.DigitalPolicyLanguageDropdownOptionClass))[0].focus(),"Enter"!==e.key&&" "!==e.key||(e=e.target.nextElementSibling)&&e.classList.toggle(i.NoticeConstants.DigitalPolicyLanguageDropdownOptionToggleClass)})},e.selectedOptionItem=function(n){i.NoticeHelpers.AddListener(n,"keydown",function(e){var t;"Enter"!==e.key&&" "!==e.key||n.click(),"Escape"===e.key&&(document.querySelectorAll(".".concat(i.NoticeConstants.DigitalPolicyLanguageDropdownOptionToggleClass))[0].classList.remove(i.NoticeConstants.DigitalPolicyLanguageDropdownOptionToggleClass),(t=document.querySelector(".".concat(i.NoticeConstants.DigitalPolicyLanguageDropdownSelectedClass)))&&t.focus()),"ArrowDown"===e.key&&(t=n.nextElementSibling)&&t.focus(),"ArrowUp"===e.key&&(t=n.previousElementSibling)&&t.focus()})},e.selectedLanguageOption=function(e,t){e.setAttribute("role","option"),e.setAttribute("aria-label",null!=(t=t.localizedLanguageName)?t:""),e.setAttribute("tabIndex","0")},e.collapseExpandActions=function(t){t.setAttribute("tabIndex","0"),i.NoticeHelpers.AddListener(t,"keydown",function(e){"Enter"!==e.key&&" "!==e.key||t.click()})},e.collapseExpandMobileMenu=function(t){i.NoticeHelpers.AddListener(t,"keydown",function(e){"Enter"!==e.key&&" "!==e.key||t.click()})},i.WcagHelper=e}(OneTrust=OneTrust||{}),function(u){function c(){}c.LoadNotices=function(r,o,a,s){return void 0===o&&(o=!0),void 0===a&&(a=""),void 0===s&&(s=!0),__awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(e){switch(e.label){case 0:return r&&0!==r.length?(t=r.map(function(t){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(e){return[2,this.LoadNotice(t,!0,"",a,s)]})})}),[4,Promise.all(t)]):[2,!1];case 1:return(n=e.sent(),this.Notices=[].concat.apply([],n),u.NoticeScriptTag.Settings&&u.NoticeScriptTag.Settings.contentApiUrl&&u.NoticeScriptTag.Settings.metadataApiUrl?this.AddDigitalPolicyLanguageDropdown(r,s):this.AddNoticeLanguageDropdown(r,s),o)?[4,c.SendNoticeCallback(this.Notices,u.NoticeScriptTag.Settings.callbackUrl,u.NoticeHelpers.GetPageDomain())]:[3,3];case 2:e.sent(),e.label=3;case 3:return[4,this.ProcessPlugins()];case 4:return e.sent(),[2,!!n]}})})},c.LoadNotice=function(r,o,a,s,c){return void 0===o&&(o=!0),void 0===a&&(a=""),void 0===s&&(s=""),void 0===c&&(c=!0),__awaiter(this,void 0,void 0,function(){var n,t,i=this;return __generator(this,function(e){switch(e.label){case 0:return[4,u.NoticeLanguageLoader.LoadNoticeDefinitions(r,s,u.NoticeScriptTag.Settings.contentApiUrl,u.NoticeScriptTag.Settings.metadataApiUrl)];case 1:return n=e.sent(),t=Object.keys(n.notices).map(function(e){var e=n.notices[e],t=(a&&(e.targetElementAttribute="id",e.targetElementValue=a),new u.Notice(e));return o&&t.display(n.schemaVersion,c),i.ConfigureLayerBreakers(e.targetElementValue),t}),this.RemoveDuplicateLanguageDropdown(),0<u.NoticeHelpers.FindElementsByClass(u.NoticeConstants.MobileMenu).length&&u.Notice.handleMobileViewMenuDisplay(),u.Notice.updateVariablePlaceholders(),[2,t]}})})},c.SendNoticeCallback=function(i,r,o){return __awaiter(this,void 0,void 0,function(){var t,n;return __generator(this,function(e){switch(e.label){case 0:return(e.trys.push([0,2,,3]),r)?i?(t=u.PolicyType.PRIVACY_NOTICE,(u.NoticeScriptTag.Settings.contentApiUrl&&u.NoticeScriptTag.Settings.metadataApiUrl||u.NoticeRedirection.isPrivacyNoticeMigrated&&u.NoticeRedirection.contentApiUrl)&&(t=u.PolicyType.DIGITAL_POLICY),n=i.map(function(e){return e.getCallbackPayload(o,t)}),[4,u.NoticeHelpers.JsonCallAsync(u.HttpMethods.POST,r,JSON.stringify({views:n}))]):[2,!1]:[2,!1];case 1:return e.sent()?[2,!0]:[2,!1];case 2:return e.sent(),[2,!1];case 3:return[2]}})})},c.UnloadNoticeStyles=function(){return u.NoticeHelpers.RemoveByClass("link",u.NoticeConstants.CssAssetClass)},c.ProcessPlugins=function(){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(e){return t=u.NoticePluginManager.GetNoticePlugins(),n=!0,t.forEach(function(t){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,t.onLoaded(this.Notices)];case 1:return e.sent()||(n=!1),[2]}})})}),[2,n]})})},c.RemoveDuplicateLanguageDropdown=function(){for(var e,t,n=u.NoticeHelpers.FindElementsByClass(u.NoticeConstants.NoticeLanguageDropdownContainer),i=n.length-1;0<i;i--)null!=(e=n[i].parentNode)&&e.removeChild(n[i]);for(var r=u.NoticeHelpers.FindElementsByClass(u.NoticeConstants.DigitalPolicyLanguageDropdownContainerClass),i=r.length-1;0<i;i--)null!=(t=r[i].parentNode)&&t.removeChild(r[i])},c.ConfigureLayerBreakers=function(e){for(var t=null,o=(e&&(t=u.NoticeHelpers.FindElementById(e)),u.NoticeHelpers.FindElementsByClass(u.NoticeConstants.NoticeLayerBreakerHeaderClass,t)),n=0;n<o.length;n++)!function(n){var i,r,e=o[n].getAttribute("id");e.includes(u.NoticeConstants.NoticeLayerBreakerHeaderId)&&(i=o[n].innerText,u.NoticeHelpers.UpdateHTMLElementInnerHTML(o[n],i),e=e.split("-")[e.split("-").length-1],e="".concat(u.NoticeConstants.NoticeLayerBreakerFooterId,"-").concat(e),r=u.NoticeHelpers.FindElementById(e)?u.NoticeHelpers.FindElementById(e).innerText:" ",u.NoticeHelpers.AddListener(o[n],"click",function(e){u.NoticeHelpers.ToggleHTMLElementClass(o[n],"active"),o[n].classList.contains("active")?u.NoticeHelpers.UpdateHTMLElementInnerHTML(o[n],r):u.NoticeHelpers.UpdateHTMLElementInnerHTML(o[n],i);var t=o[n].nextElementSibling;t.classList.contains(u.NoticeConstants.NoticeLayerBreakerContentClass)&&("block"===t.style.display?t.style.display="none":t.style.display="block")}))}(n)},c.AddNoticeLanguageDropdown=function(t,n){var i=this,r=u.NoticeHelpers.FindElementById(u.NoticeScriptTag.LanguageDropdownElementId);r&&(this.NoticeLanguages.forEach(function(e){u.NoticeHelpers.AddDropdownOption(r,e.language,e.languageName||e.language,e.language===i.SelectedNoticeLanguage)}),u.NoticeHelpers.AddListener(r,"change",function(e){i.ProcessSelectedLanguageNotice(e.target.value,t,n)}))},c.AddDigitalPolicyLanguageDropdown=function(t,n){var i=this,e=u.NoticeHelpers.FindElementsByClass(u.NoticeConstants.DigitalPolicyLanguageDropdownContainerClass);if(e&&e.length){var r,o=u.NoticeHelpers.CreateElement("div"),a=(o.setAttribute("class",u.NoticeConstants.DigitalPolicyLanguageDropdownWrapperClass),u.NoticeHelpers.CreateElement("div")),s=(a.setAttribute("class",u.NoticeConstants.DigitalPolicyLanguageDropdownSelectedClass),u.WcagHelper.selectedOptionContainer(a),u.NoticeHelpers.CreateElement("div")),e=(s.setAttribute("class",u.NoticeConstants.DigitalPolicyLanguageDropdownClass),o.appendChild(a),o.appendChild(s),e[0].appendChild(o),u.NoticeHelpers.OrderBy(__spreadArray([],this.NoticeLanguages,!0),"localizedLanguageName")),o=this.getDefaultLanguageIndex(e),c=(0<o&&(r=e[o],e.splice(o,1),e.unshift(r)),e.forEach(function(e){i.AddDigitalPolicyLanguageOption(e,s),e.language===i.SelectedNoticeLanguage&&u.NoticeHelpers.UpdateHTMLElementInnerHTML(a,e.localizedLanguageName)}),u.NoticeHelpers.FindElementsByClass(u.NoticeConstants.DigitalPolicyLanguageDropdownOptionClass));u.NoticeHelpers.AddListener(a,"click",function(e){e.target.nextElementSibling.classList.toggle(u.NoticeConstants.DigitalPolicyLanguageDropdownOptionToggleClass)});for(var l=0;l<c.length;l++)u.NoticeHelpers.AddListener(c[l],"click",function(e){s.classList.remove(u.NoticeConstants.DigitalPolicyLanguageDropdownOptionToggleClass);e=e.target,e=e.classList.contains(u.NoticeConstants.DigitalPolicyLanguageDropdownOptionClass)?e:e.parentElement,u.NoticeHelpers.UpdateHTMLElementInnerHTML(a,e.children[0].innerText),e=e.getAttribute("data-option-value");i.ProcessSelectedLanguageNotice(e,t,n)}),u.WcagHelper.selectedOptionItem(c[l]);document.addEventListener("click",function(e){e.target!==a&&u.NoticeHelpers.RemoveHTMLElementClass(s,u.NoticeConstants.DigitalPolicyLanguageDropdownOptionToggleClass)})}},c.AddDigitalPolicyLanguageOption=function(e,t){var n=u.NoticeHelpers.CreateElement("div"),i=(n.setAttribute("class",u.NoticeConstants.DigitalPolicyLanguageDropdownOptionClass),u.WcagHelper.selectedLanguageOption(n,e),n.setAttribute("data-option-value",e.language),u.NoticeHelpers.CreateElement("div")),r=(i.setAttribute("class","otnotice-blod"),i.innerText=e.localizedLanguageName,u.NoticeHelpers.CreateElement("div"));r.setAttribute("class","otnotice-italic otnotice-small"),r.innerText=e.languageName,n.appendChild(i),n.appendChild(r),t.appendChild(n)},c.ProcessSelectedLanguageNotice=function(r,o,a){return __awaiter(this,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(e){switch(e.label){case 0:return t=o.map(function(t){return __awaiter(i,void 0,void 0,function(){return __generator(this,function(e){return[2,this.LoadNotice(t,!0,"",r,a)]})})}),[4,Promise.all(t)];case 1:return t=e.sent(),this.Notices=Object.assign.apply(Object,__spreadArray([[]],t,!1)),[4,this.ProcessPlugins()];case 2:return(e.sent(),n=window.OneTrust.changeLanguage,n)?[4,n(r)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}})})},c.getDefaultLanguageIndex=function(e){var n=-1;return e.some(function(e,t){if(e.isDefault)return n=t,!0}),n},u.NoticeApi=c}(OneTrust=OneTrust||{}),function(t){function e(){}e.InstallNotice=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return t.NoticeScriptTag.SdkSettingsUrl?t.NoticeApi.Initialized=t.NoticeScriptTag.GetExternalSettings().then(function(e){return!!e&&t.NoticeApi.LoadNotices(t.NoticeScriptTag.Settings.noticeUrls)}):t.NoticeScriptTag.Settings.noticeUrls?t.NoticeApi.Initialized=t.NoticeApi.LoadNotices(t.NoticeScriptTag.Settings.noticeUrls):t.NoticeApi.Initialized=Promise.resolve(!0),[2,t.NoticeApi.Initialized]})})},t.NoticeScriptInstaller=e}(OneTrust=OneTrust||{}),OneTrust.NoticeScriptInstaller.InstallNotice();