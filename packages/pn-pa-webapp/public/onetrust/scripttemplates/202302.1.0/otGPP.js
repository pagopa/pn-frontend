!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t){return e(t={exports:{}},t.exports),t.exports}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return(c=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function l(e){var r="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return c(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o(n,e)})(e)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t,n){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var S=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0;var n=function(){function r(e,t,n){d(this,r),this.success=!0,this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:n})}return s(r,[{key:"execute",value:function(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(e){var t=null!==e;this.callback&&this.callback(e,t)}}]),r}();t.Command=n});e(S);S.Command;function g(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var _=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AddEventListenerCommand=void 0;var n=function(){a(t,S.Command);var e=g(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){return{eventName:"listenerRegistered",listenerId:this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),data:!0,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}}}}]),t}();t.AddEventListenerCommand=n});e(_);_.AddEventListenerCommand;var h=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});function v(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}e(h);var T=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PingCommand=void 0;var n=function(){a(t,S.Command);var e=v(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){var e={gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion};return this.invokeCallback(e),e}}]),t}();t.PingCommand=n});e(T);T.PingCommand;function O(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var I=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GetFieldCommand=void 0;var n=function(){a(t,S.Command);var e=O(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");var e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");var t=e[0],n=e[1],r=this.cmpApiContext.gppModel.getFieldValue(t,n);return this.invokeCallback(r),r}}]),t}();t.GetFieldCommand=n});e(I);I.GetFieldCommand;function V(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var C=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GetGppDataCommand=void 0;var n=function(){a(t,S.Command);var e=V(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){var e=this.cmpApiContext.gppModel.getHeader(),t={sectionId:e.Id,gppVersion:this.cmpApiContext.gppVersion,sectionList:e.SectionIds,applicableSections:this.cmpApiContext.applicableSections,gppString:this.cmpApiContext.gppModel.encode(),pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}};return this.invokeCallback(t),t}}]),t}();t.GetGppDataCommand=n});e(C);C.GetGppDataCommand;function N(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var y=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GetSectionCommand=void 0;var n=function(){a(t,S.Command);var e=N(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");var e=null;return this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e),e}}]),t}();t.GetSectionCommand=n});e(y);y.GetSectionCommand;function A(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var P=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HasSectionCommand=void 0;var n=function(){a(t,S.Command);var e=A(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");var e=this.cmpApiContext.gppModel.hasSection(this.parameter);return this.invokeCallback(e),e}}]),t}();t.HasSectionCommand=n});e(P);P.HasSectionCommand;var b=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GppCommand=void 0,(n=t.GppCommand||(t.GppCommand={})).ADD_EVENT_LISTENER="addEventListener",n.GET_FIELD="getField",n.GET_GPP_DATA="getGPPData",n.GET_SECTION="getSection",n.GET_TC_DATA="getTCData",n.HAS_SECTION="hasSection",n.PING="ping",n.REMOVE_EVENT_LISTENER="removeEventListener"});e(b);b.GppCommand;function U(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var R=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RemoveEventListenerCommand=void 0;var n=function(){a(t,S.Command);var e=U(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){var e=this.parameter;return this.cmpApiContext.eventQueue.remove(e)?{eventName:"listenerRemoved",listenerId:e,data:!0,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}}:{eventName:"listenerRemoved",listenerId:e,data:!1,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}}}}]),t}();t.RemoveEventListenerCommand=n});e(R);R.RemoveEventListenerCommand;function F(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var D=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GetTcDataCommand=void 0;var n=function(){a(t,S.Command);var e=F(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"respond",value:function(){var e=null;return this.cmpApiContext.gppModel.hasSection("tcfeuvs")&&(e=this.cmpApiContext.gppModel.getSection("tcfeuv2")),this.invokeCallback(e),e}}]),t}();t.GetTcDataCommand=n});e(D);D.GetTcDataCommand;var m=t(function(e,t){var n,r,i,o,c,s,a,u;Object.defineProperty(t,"__esModule",{value:!0}),t.CommandMap=void 0;function l(){d(this,l)}t.CommandMap=l,n=b.GppCommand.ADD_EVENT_LISTENER,r=b.GppCommand.GET_FIELD,i=b.GppCommand.GET_GPP_DATA,o=b.GppCommand.GET_SECTION,c=b.GppCommand.GET_TC_DATA,s=b.GppCommand.HAS_SECTION,a=b.GppCommand.PING,u=b.GppCommand.REMOVE_EVENT_LISTENER,l[n]=_.AddEventListenerCommand,l[r]=I.GetFieldCommand,l[i]=C.GetGppDataCommand,l[o]=y.GetSectionCommand,l[c]=D.GetTcDataCommand,l[s]=P.HasSectionCommand,l[a]=T.PingCommand,l[u]=R.RemoveEventListenerCommand});e(m);m.CommandMap;var M=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(_,t),n(S,t),n(h,t),n(m,t),n(I,t),n(C,t),n(y,t),n(D,t),n(b,t),n(P,t),n(T,t),n(R,t)});e(M);var w=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CmpStatus=void 0,(n=t.CmpStatus||(t.CmpStatus={})).STUB="stub",n.LOADING="loading",n.LOADED="loaded",n.ERROR="error"});e(w);w.CmpStatus;var x=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayStatus=void 0,(n=t.DisplayStatus||(t.DisplayStatus={})).VISIBLE="visible",n.HIDDEN="hidden",n.DISABLED="disabled"});e(x);x.DisplayStatus;var G=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventStatus=void 0,(n=t.EventStatus||(t.EventStatus={})).GPP_LOADED="gpploaded",n.CMP_UI_SHOWN="cmpuishown",n.USER_ACTION_COMPLETE="useractioncomplete"});e(G);G.EventStatus;var L=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(w,t),n(x,t),n(G,t)});e(L);var k=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CallResponder=void 0;var n=function(){function r(e,t){if(d(this,r),this.cmpApiContext=e,t){var n=b.GppCommand.ADD_EVENT_LISTENER;if(null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));if(n=b.GppCommand.REMOVE_EVENT_LISTENER,null!=t&&t[n])throw new Error("Built-In Custom Commmand for ".concat(n," not allowed"));this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}return s(r,[{key:"apiCall",value:function(e,t,n){if("string"!=typeof e)return t(null,!1);if(t&&"function"!=typeof t)throw new Error("invalid callback function");return this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new m.CommandMap[e](this.cmpApiContext,t,n).execute():t?t(null,!1):void 0}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){var t;(t=window).__gpp.apply(t,p(e))})}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==m.CommandMap[e]}}]),r}();t.CallResponder=n});e(k);k.CallResponder;var j=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EventListenerQueue=void 0;var n=function(){function i(e){d(this,i),this.eventQueue=new Map,this.queueNumber=1e3,this.cmpApiContext=e;try{for(var t=window.__gpp("events")||[],n=0;n<t.length;n++){var r=t[n];this.eventQueue.set(r.id,{callback:r.callback,parameter:r.parameter})}}catch(e){console.log(e)}}return s(i,[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"get",value:function(e){return this.eventQueue.get(e)}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(n,r){var i=this;this.eventQueue.forEach(function(e,t){e.callback({eventName:n,listenerId:t,data:r,pingData:{gppVersion:i.cmpApiContext.gppVersion,cmpStatus:i.cmpApiContext.cmpStatus,cmpDisplayStatus:i.cmpApiContext.cmpDisplayStatus,apiSupport:i.cmpApiContext.apiSupport,currentAPI:i.cmpApiContext.currentAPI,cmpId:i.cmpApiContext.cmpId,cmpVersion:i.cmpApiContext.cmpVersion}})})}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),i}();t.EventListenerQueue=n});e(j);j.EventListenerQueue;function B(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var H=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DecodingError=void 0;var n=function(){a(r,l(Error));var n=B(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).name="DecodingError",t}return r}();t.DecodingError=n});e(H);H.DecodingError;var Y=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FixedIntegerEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e,t){var n=[];if(1<=e)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);for(var r="",i=0;i<n.length;i++){var o=n[i];o<=e?(r+="1",e-=o):r+="0"}for(;r.length<t;)r="0"+r;return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new H.DecodingError("Undecodable FixedInteger '"+e+"'");for(var t=0,n=[],r=0;r<e.length;r++)n[e.length-(r+1)]=0===r?1:2*n[e.length-r];for(var i=0;i<e.length;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}]),e}();t.FixedIntegerEncoder=n});e(Y);Y.FixedIntegerEncoder;function K(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var W=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingError=void 0;var n=function(){a(r,l(Error));var n=K(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).name="EncodingError",t}return r}();t.EncodingError=n});e(W);W.EncodingError;var Q=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractBase64UrlEncoder=void 0;var n=function(){function o(){d(this,o)}return s(o,[{key:"encode",value:function(e){if(!/^[0-1]*$/.test(e))throw new W.EncodingError("Unencodable Base64Url '"+e+"'");e=this.pad(e);for(var t="",n=0;n<=e.length-6;){var r=e.substring(n,n+6);try{var i=Y.FixedIntegerEncoder.decode(r);t+=o.DICT.charAt(i),n+=6}catch(t){throw new W.EncodingError("Unencodable Base64Url '"+e+"'")}}return t}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new H.DecodingError("Undecodable Base64URL string");for(var t="",n=0;n<e.length;n++){var r=e.charAt(n),i=o.REVERSE_DICT.get(r);t+=Y.FixedIntegerEncoder.encode(i,6)}return t}}]),o}();(t.AbstractBase64UrlEncoder=n).DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",n.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]])});e(Q);Q.AbstractBase64UrlEncoder;function z(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var X=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CompressedBase64UrlEncoder=void 0;var n=function(){a(t,Q.AbstractBase64UrlEncoder);var e=z(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"pad",value:function(e){for(;0<e.length%8;)e+="0";for(;0<e.length%6;)e+="0";return e}}]),t}();t.CompressedBase64UrlEncoder=n});e(X);X.CompressedBase64UrlEncoder;var J=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FibonacciIntegerEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e){var t=[];if(1<=e&&(t.push(1),2<=e)){t.push(2);for(var n=2;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}for(var r="1",i=t.length-1;0<=i;i--){var o=t[i];o<=e?(r="1"+r,e-=o):r="0"+r}return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new H.DecodingError("Undecodable FibonacciInteger '"+e+"'");for(var t=0,n=[],r=0;r<e.length-1;r++)0===r?n.push(1):1===r?n.push(2):n.push(n[r-1]+n[r-2]);for(var i=0;i<e.length-1;i++)"1"===e.charAt(i)&&(t+=n[i]);return t}}]),e}();t.FibonacciIntegerEncoder=n});e(J);J.FibonacciIntegerEncoder;var q=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e){if(!0===e)return"1";if(!1===e)return"0";throw new W.EncodingError("Unencodable Boolean '"+e+"'")}},{key:"decode",value:function(e){if("1"===e)return!0;if("0"===e)return!1;throw new H.DecodingError("Undecodable Boolean '"+e+"'")}}]),e}();t.BooleanEncoder=n});e(q);q.BooleanEncoder;var $=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FibonacciIntegerRangeEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e){e=e.sort(function(e,t){return e-t});for(var t=[],n=0,r=0;r<e.length;){for(var i=r;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(r,i+1)),r=i+1}for(var o=Y.FixedIntegerEncoder.encode(t.length,12),c=0;c<t.length;c++)if(1==t[c].length){var s=t[c][0]-n;n=t[c][0],o+="0"+J.FibonacciIntegerEncoder.encode(s)}else{var a=t[c][0]-n;n=t[c][0];var u=t[c][t[c].length-1]-n;n=t[c][t[c].length-1],o+="1"+J.FibonacciIntegerEncoder.encode(a)+J.FibonacciIntegerEncoder.encode(u)}return o}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new H.DecodingError("Undecodable FibonacciIntegerRange '"+e+"'");for(var t=[],n=Y.FixedIntegerEncoder.decode(e.substring(0,12)),r=0,i=12,o=0;o<n;o++){var c=q.BooleanEncoder.decode(e.substring(i,i+1));if(i++,!0===c){var s=e.indexOf("11",i),a=J.FibonacciIntegerEncoder.decode(e.substring(i,s+2))+r;r=a,i=s+2,s=e.indexOf("11",i);var u=J.FibonacciIntegerEncoder.decode(e.substring(i,s+2))+r;r=u,i=s+2;for(var l=a;l<=u;l++)t.push(l)}else{var d=e.indexOf("11",i),f=J.FibonacciIntegerEncoder.decode(e.substring(i,d+2))+r;r=f,t.push(f),i=d+2}}return t}}]),e}();t.FibonacciIntegerRangeEncoder=n});e($);$.FibonacciIntegerRangeEncoder;var Z=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractEncodableBitStringDataType=void 0;var n=function(){function e(){d(this,e)}return s(e,[{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),e}();t.AbstractEncodableBitStringDataType=n});e(Z);Z.AbstractEncodableBitStringDataType;function ee(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var te=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFibonacciIntegerRange=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=ee(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){return $.FibonacciIntegerRangeEncoder.encode(this.value)}},{key:"decode",value:function(e){this.value=$.FibonacciIntegerRangeEncoder.decode(e)}},{key:"substring",value:function(e,t){for(var n=Y.FixedIntegerEncoder.decode(e.substring(t,t+12)),r=t+12,i=0;i<n;i++)r="1"===e.charAt(r)?e.indexOf("11",e.indexOf("11",r+1)+2)+2:e.indexOf("11",r+1)+2;return e.substring(t,r)}},{key:"getValue",value:function(){return p(E(u(r.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){E(u(r.prototype),"setValue",this).call(this,p(new Set(e)).sort(function(e,t){return e-t}))}}]),r}();t.EncodableFibonacciIntegerRange=n});e(te);te.EncodableFibonacciIntegerRange;function ne(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var re=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedInteger=void 0;var n=function(){a(i,Z.AbstractEncodableBitStringDataType);var r=ne(i);function i(e,t){var n;return d(this,i),(n=r.call(this)).bitStringLength=e,n.setValue(t),n}return s(i,[{key:"encode",value:function(){return Y.FixedIntegerEncoder.encode(this.value,this.bitStringLength)}},{key:"decode",value:function(e){this.value=Y.FixedIntegerEncoder.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.bitStringLength)}}]),i}();t.EncodableFixedInteger=n});e(re);re.EncodableFixedInteger;var ie=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderV1Field=void 0,(n=t.HeaderV1Field||(t.HeaderV1Field={})).ID="Id",n.VERSION="Version",n.SECTION_IDS="SectionIds"});e(ie);ie.HeaderV1Field;var oe=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractEncodableBitStringSection=void 0;var n=function(){function n(e,t){d(this,n),this.fields=e,this.fieldOrder=t}return s(n,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getFieldOrder",value:function(){return this.fieldOrder}},{key:"encodeToBitString",value:function(){for(var e="",t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(!this.fields.has(n))throw new Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}},{key:"decodeFromBitString",value:function(e){for(var t=0,n=0;n<this.fieldOrder.length;n++){var r=this.fieldOrder[n];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");var i=this.fields.get(r),o=i.substring(e,t);i.decode(o),t+=o.length}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(this.fields.has(n)){var r=this.fields.get(n).getValue();e[n]=r}}return e}}]),n}();t.AbstractEncodableBitStringSection=n});e(oe);oe.AbstractEncodableBitStringSection;function ce(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var se=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderV1=void 0;var n=function(){a(i,oe.AbstractEncodableBitStringSection);var r=ce(i);function i(e){var t;d(this,i);var n=new Map;return n.set(ie.HeaderV1Field.ID.toString(),new re.EncodableFixedInteger(6,i.ID)),n.set(ie.HeaderV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(ie.HeaderV1Field.SECTION_IDS.toString(),new te.EncodableFibonacciIntegerRange([])),(t=r.call(this,n,[ie.HeaderV1Field.ID.toString(),ie.HeaderV1Field.VERSION.toString(),ie.HeaderV1Field.SECTION_IDS.toString()])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){var e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}},{key:"decode",value:function(e){var t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.HeaderV1=n).ID=3,n.VERSION=1,n.NAME="header"});e(se);se.HeaderV1;function ae(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var ue=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableBoolean=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=ae(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){return q.BooleanEncoder.encode(this.value)}},{key:"decode",value:function(e){this.value=q.BooleanEncoder.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+1)}}]),r}();t.EncodableBoolean=n});e(ue);ue.EncodableBoolean;var le=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DatetimeEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e){return e?Y.FixedIntegerEncoder.encode(Math.round(e.getTime()/100),36):Y.FixedIntegerEncoder.encode(0,36)}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new H.DecodingError("Undecodable Datetime '"+e+"'");return new Date(100*Y.FixedIntegerEncoder.decode(e))}}]),e}();t.DatetimeEncoder=n});e(le);le.DatetimeEncoder;function de(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var fe=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableDatetime=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=de(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){return le.DatetimeEncoder.encode(this.value)}},{key:"decode",value:function(e){this.value=le.DatetimeEncoder.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+36)}}]),r}();t.EncodableDatetime=n});e(fe);fe.EncodableDatetime;var Ee=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FixedBitfieldEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e,t){for(var n="",r=0;r<e.length;r++)n+=q.BooleanEncoder.encode(e[r]);for(;n.length<t;)n+="0";return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new H.DecodingError("Undecodable FixedBitfield '"+e+"'");for(var t=[],n=0;n<e.length;n++)t.push(q.BooleanEncoder.decode(e.substring(n,n+1)));return t}}]),e}();t.FixedBitfieldEncoder=n});e(Ee);Ee.FixedBitfieldEncoder;function pe(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Se=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFlexibleBitfield=void 0;var n=function(){a(i,Z.AbstractEncodableBitStringDataType);var r=pe(i);function i(e,t){var n;return d(this,i),(n=r.call(this)).getLength=e,n.setValue(t),n}return s(i,[{key:"encode",value:function(){return Ee.FixedBitfieldEncoder.encode(this.value,this.getLength())}},{key:"decode",value:function(e){this.value=Ee.FixedBitfieldEncoder.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.getLength())}},{key:"getValue",value:function(){return p(E(u(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=this.getLength(),n=p(e),r=n.length;r<t;r++)n.push(!1);n.length>t&&(n=n.slice(0,t)),E(u(i.prototype),"setValue",this).call(this,p(n))}}]),i}();t.EncodableFlexibleBitfield=n});e(Se);Se.EncodableFlexibleBitfield;function ge(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var _e=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedBitfield=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=ge(r);function r(e){var t;return d(this,r),(t=n.call(this)).numElements=e.length,t.setValue(e),t}return s(r,[{key:"encode",value:function(){return Ee.FixedBitfieldEncoder.encode(this.value,this.numElements)}},{key:"decode",value:function(e){this.value=Ee.FixedBitfieldEncoder.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.numElements)}},{key:"getValue",value:function(){return p(E(u(r.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=p(e),n=t.length;n<this.numElements;n++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),E(u(r.prototype),"setValue",this).call(this,t)}}]),r}();t.EncodableFixedBitfield=n});e(_e);_e.EncodableFixedBitfield;var he=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FixedStringEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e,t){for(;e.length<t;)e+=" ";for(var n="",r=0;r<e.length;r++){var i=e.charCodeAt(r);if(32===i)n+=Y.FixedIntegerEncoder.encode(63,6);else{if(!(65<=i))throw new W.EncodingError("Unencodable FixedString '"+e+"'");n+=Y.FixedIntegerEncoder.encode(e.charCodeAt(r)-65,6)}}return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new H.DecodingError("Undecodable FixedString '"+e+"'");for(var t="",n=0;n<e.length;n+=6){var r=Y.FixedIntegerEncoder.decode(e.substring(n,n+6));t+=63===r?" ":String.fromCharCode(r+65)}return t.trim()}}]),e}();t.FixedStringEncoder=n});e(he);he.FixedStringEncoder;function ve(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Te=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedString=void 0;var n=function(){a(i,Z.AbstractEncodableBitStringDataType);var r=ve(i);function i(e,t){var n;return d(this,i),(n=r.call(this)).stringLength=e,n.setValue(t),n}return s(i,[{key:"encode",value:function(){return he.FixedStringEncoder.encode(this.value,this.stringLength)}},{key:"decode",value:function(e){this.value=he.FixedStringEncoder.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+6*this.stringLength)}}]),i}();t.EncodableFixedString=n});e(Te);Te.EncodableFixedString;var Oe=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractEncodableSegmentedBitStringSection=void 0;var n=function(){function n(e,t){d(this,n),this.fields=e,this.segments=t}return s(n,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getSegments",value:function(){return this.segments}},{key:"encodeSegmentsToBitStrings",value:function(){for(var e=[],t=0;t<this.segments.length;t++){for(var n="",r=0;r<this.segments[t].length;r++){var i=this.segments[t][r];if(!this.fields.has(i))throw new Error("Field not found: '"+i+"'");try{n+=this.fields.get(i).encode()}catch(e){throw new Error("Unable to encode "+i)}}e.push(n)}return e}},{key:"decodeSegmentsFromBitStrings",value:function(e){for(var t=0;t<this.segments.length&&t<e.length;t++){var n=e[t];if(n&&0<n.length)for(var r=0,i=0;i<this.segments[t].length;i++){var o=this.segments[t][i];if(!this.fields.has(o))throw new Error("Field not found: '"+o+"'");try{var c=this.fields.get(o),s=c.substring(n,r);c.decode(s),r+=s.length}catch(e){throw new Error("Unable to decode "+o)}}}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].length;n++){var r=this.segments[t][n];if(this.fields.has(r)){var i=this.fields.get(r).getValue();e[r]=i}}return e}}]),n}();t.AbstractEncodableSegmentedBitStringSection=n});e(Oe);Oe.AbstractEncodableSegmentedBitStringSection;var Ie=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FixedIntegerRangeEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e){e.sort(function(e,t){return e-t});for(var t=[],n=0;n<e.length;){for(var r=n;r<e.length-1&&e[r]+1===e[r+1];)r++;t.push(e.slice(n,r+1)),n=r+1}for(var i=Y.FixedIntegerEncoder.encode(t.length,12),o=0;o<t.length;o++)1===t[o].length?i+="0"+Y.FixedIntegerEncoder.encode(t[o][0],16):i+="1"+Y.FixedIntegerEncoder.encode(t[o][0],16)+Y.FixedIntegerEncoder.encode(t[o][t[o].length-1],16);return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new H.DecodingError("Undecodable FixedIntegerRange '"+e+"'");for(var t=[],n=Y.FixedIntegerEncoder.decode(e.substring(0,12)),r=12,i=0;i<n;i++){var o=q.BooleanEncoder.decode(e.substring(r,r+1));if(r++,!0===o){var c=Y.FixedIntegerEncoder.decode(e.substring(r,r+16));r+=16;var s=Y.FixedIntegerEncoder.decode(e.substring(r,r+16));r+=16;for(var a=c;a<=s;a++)t.push(a)}else{var u=Y.FixedIntegerEncoder.decode(e.substring(r,r+16));t.push(u),r+=16}}return t}}]),e}();t.FixedIntegerRangeEncoder=n});e(Ie);Ie.FixedIntegerRangeEncoder;function Ve(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Ce=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedIntegerRange=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=Ve(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){return Ie.FixedIntegerRangeEncoder.encode(this.value)}},{key:"decode",value:function(e){this.value=Ie.FixedIntegerRangeEncoder.decode(e)}},{key:"substring",value:function(e,t){for(var n=Y.FixedIntegerEncoder.decode(e.substring(t,t+12)),r=t+12,i=0;i<n;i++)"1"===e.charAt(r)?r+=33:r+=17;return e.substring(t,r)}},{key:"getValue",value:function(){return p(E(u(r.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){E(u(r.prototype),"setValue",this).call(this,p(new Set(e)).sort(function(e,t){return e-t}))}}]),r}();t.EncodableFixedIntegerRange=n});e(Ce);Ce.EncodableFixedIntegerRange;function Ne(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var ye=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableOptimizedFixedRange=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=Ne(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){var e=0<this.value.length?this.value[this.value.length-1]:0,t=Ie.FixedIntegerRangeEncoder.encode(this.value),n=e;if(t.length<=n)return Y.FixedIntegerEncoder.encode(e,16)+"1"+t;for(var r=[],i=0,o=0;o<e;o++)o===this.value[i]-1?(r[o]=!0,i++):r[o]=!1;return Y.FixedIntegerEncoder.encode(e,16)+"0"+Ee.FixedBitfieldEncoder.encode(r,n)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=Ie.FixedIntegerRangeEncoder.decode(e.substring(17));else{for(var t=[],n=Ee.FixedBitfieldEncoder.decode(e.substring(17)),r=0;r<n.length;r++)!0===n[r]&&t.push(r+1);this.value=t}}},{key:"substring",value:function(e,t){var n=Y.FixedIntegerEncoder.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new Ce.EncodableFixedIntegerRange([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return p(E(u(r.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){E(u(r.prototype),"setValue",this).call(this,p(new Set(e)).sort(function(e,t){return e-t}))}}]),r}();t.EncodableOptimizedFixedRange=n});e(ye);ye.EncodableOptimizedFixedRange;var Ae=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2Field=void 0,(n=t.TcfEuV2Field||(t.TcfEuV2Field={})).VERSION="Version",n.CREATED="Created",n.LAST_UPDATED="LastUpdated",n.CMP_ID="CmpId",n.CMP_VERSION="CmpVersion",n.CONSENT_SCREEN="ConsentScreen",n.CONSENT_LANGUAGE="ConsentLanguage",n.VENDOR_LIST_VERSION="VendorListVersion",n.POLICY_VERSION="PolicyVersion",n.IS_SERVICE_SPECIFIC="IsServiceSpecific",n.USE_NON_STANDARD_STACKS="UseNonStandardStacks",n.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",n.PURPOSE_CONSENTS="PurposeConsents",n.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",n.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",n.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",n.VENDOR_CONSENTS="VendorConsents",n.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",n.PUBLISHER_RESTRICTIONS="PublisherRestrictions",n.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",n.PUBLISHER_CONSENTS="PublisherConsents",n.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",n.NUM_CUSTOM_PURPOSES="NumCustomPurposes",n.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",n.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",n.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",n.VENDORS_ALLOWED="VendorsAllowed",n.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",n.VENDORS_DISCLOSED="VendorsDisclosed"});e(Ae);Ae.TcfEuV2Field;function Pe(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var be=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TraditionalBase64UrlEncoder=void 0;var n=function(){a(t,Q.AbstractBase64UrlEncoder);var e=Pe(t);function t(){return d(this,t),e.apply(this,arguments)}return s(t,[{key:"pad",value:function(e){for(;0<e.length%24;)e+="0";return e}}]),t}();t.TraditionalBase64UrlEncoder=n});e(be);be.TraditionalBase64UrlEncoder;function Ue(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Re=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TcfEuV2=void 0;var n=function(){a(c,Oe.AbstractEncodableSegmentedBitStringSection);var o=Ue(c);function c(e){var t;d(this,c);var n=new Map,r=new Date;n.set(Ae.TcfEuV2Field.VERSION.toString(),new re.EncodableFixedInteger(6,c.VERSION)),n.set(Ae.TcfEuV2Field.CREATED.toString(),new fe.EncodableDatetime(r)),n.set(Ae.TcfEuV2Field.LAST_UPDATED.toString(),new fe.EncodableDatetime(r)),n.set(Ae.TcfEuV2Field.CMP_ID.toString(),new re.EncodableFixedInteger(12,0)),n.set(Ae.TcfEuV2Field.CMP_VERSION.toString(),new re.EncodableFixedInteger(12,0)),n.set(Ae.TcfEuV2Field.CONSENT_SCREEN.toString(),new re.EncodableFixedInteger(6,0)),n.set(Ae.TcfEuV2Field.CONSENT_LANGUAGE.toString(),new Te.EncodableFixedString(2,"EN")),n.set(Ae.TcfEuV2Field.VENDOR_LIST_VERSION.toString(),new re.EncodableFixedInteger(12,0)),n.set(Ae.TcfEuV2Field.POLICY_VERSION.toString(),new re.EncodableFixedInteger(6,2)),n.set(Ae.TcfEuV2Field.IS_SERVICE_SPECIFIC.toString(),new ue.EncodableBoolean(!1)),n.set(Ae.TcfEuV2Field.USE_NON_STANDARD_STACKS.toString(),new ue.EncodableBoolean(!1)),n.set(Ae.TcfEuV2Field.SPECIAL_FEATURE_OPTINS.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Ae.TcfEuV2Field.PURPOSE_CONSENTS.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Ae.TcfEuV2Field.PURPOSE_LEGITIMATE_INTERESTS.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Ae.TcfEuV2Field.PURPOSE_ONE_TREATMENT.toString(),new ue.EncodableBoolean(!1)),n.set(Ae.TcfEuV2Field.PUBLISHER_COUNTRY_CODE.toString(),new Te.EncodableFixedString(2,"AA")),n.set(Ae.TcfEuV2Field.VENDOR_CONSENTS.toString(),new ye.EncodableOptimizedFixedRange([])),n.set(Ae.TcfEuV2Field.VENDOR_LEGITIMATE_INTERESTS.toString(),new ye.EncodableOptimizedFixedRange([])),n.set(Ae.TcfEuV2Field.PUBLISHER_RESTRICTIONS.toString(),new Ce.EncodableFixedIntegerRange([])),n.set(Ae.TcfEuV2Field.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(3,3)),n.set(Ae.TcfEuV2Field.PUBLISHER_CONSENTS.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Ae.TcfEuV2Field.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var i=new re.EncodableFixedInteger(6,0);return n.set(Ae.TcfEuV2Field.NUM_CUSTOM_PURPOSES.toString(),i),n.set(Ae.TcfEuV2Field.PUBLISHER_CUSTOM_CONSENTS.toString(),new Se.EncodableFlexibleBitfield(function(){return i.getValue()},[])),n.set(Ae.TcfEuV2Field.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Se.EncodableFlexibleBitfield(function(){return i.getValue()},[])),n.set(Ae.TcfEuV2Field.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(3,2)),n.set(Ae.TcfEuV2Field.VENDORS_ALLOWED.toString(),new ye.EncodableOptimizedFixedRange([])),n.set(Ae.TcfEuV2Field.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(3,1)),n.set(Ae.TcfEuV2Field.VENDORS_DISCLOSED.toString(),new ye.EncodableOptimizedFixedRange([])),(t=o.call(this,n,[[Ae.TcfEuV2Field.VERSION.toString(),Ae.TcfEuV2Field.CREATED.toString(),Ae.TcfEuV2Field.LAST_UPDATED.toString(),Ae.TcfEuV2Field.CMP_ID.toString(),Ae.TcfEuV2Field.CMP_VERSION.toString(),Ae.TcfEuV2Field.CONSENT_SCREEN.toString(),Ae.TcfEuV2Field.CONSENT_LANGUAGE.toString(),Ae.TcfEuV2Field.VENDOR_LIST_VERSION.toString(),Ae.TcfEuV2Field.POLICY_VERSION.toString(),Ae.TcfEuV2Field.IS_SERVICE_SPECIFIC.toString(),Ae.TcfEuV2Field.USE_NON_STANDARD_STACKS.toString(),Ae.TcfEuV2Field.SPECIAL_FEATURE_OPTINS.toString(),Ae.TcfEuV2Field.PURPOSE_CONSENTS.toString(),Ae.TcfEuV2Field.PURPOSE_LEGITIMATE_INTERESTS.toString(),Ae.TcfEuV2Field.PURPOSE_ONE_TREATMENT.toString(),Ae.TcfEuV2Field.PUBLISHER_COUNTRY_CODE.toString(),Ae.TcfEuV2Field.VENDOR_CONSENTS.toString(),Ae.TcfEuV2Field.VENDOR_LEGITIMATE_INTERESTS.toString(),Ae.TcfEuV2Field.PUBLISHER_RESTRICTIONS.toString()],[Ae.TcfEuV2Field.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),Ae.TcfEuV2Field.PUBLISHER_CONSENTS.toString(),Ae.TcfEuV2Field.PUBLISHER_LEGITIMATE_INTERESTS.toString(),Ae.TcfEuV2Field.NUM_CUSTOM_PURPOSES.toString(),Ae.TcfEuV2Field.PUBLISHER_CUSTOM_CONSENTS.toString(),Ae.TcfEuV2Field.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[Ae.TcfEuV2Field.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),Ae.TcfEuV2Field.VENDORS_ALLOWED.toString()],[Ae.TcfEuV2Field.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),Ae.TcfEuV2Field.VENDORS_DISCLOSED.toString()]])).base64UrlEncoder=new be.TraditionalBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(c,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(Ae.TcfEuV2Field.IS_SERVICE_SPECIFIC.toString())?e[1]&&0<e[1].length&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&0<e[2].length&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&0<e[3].length&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){var i=this.base64UrlEncoder.decode(t[r]);switch(i.substring(0,3)){case"000":n[0]=i;break;case"001":n[3]=i;break;case"010":n[2]=i;break;case"011":n[1]=i;break;default:throw new H.DecodingError("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,t){if(E(u(c.prototype),"setFieldValue",this).call(this,e,t),e!==Ae.TcfEuV2Field.CREATED.toString()&&e!==Ae.TcfEuV2Field.LAST_UPDATED.toString()){var n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));this.setFieldValue(Ae.TcfEuV2Field.CREATED.toString(),r),this.setFieldValue(Ae.TcfEuV2Field.LAST_UPDATED.toString(),r)}}},{key:"getId",value:function(){return c.ID}},{key:"getName",value:function(){return c.NAME}}]),c}();(t.TcfEuV2=n).ID=2,n.VERSION=2,n.NAME="tcfeuv2"});e(Re);Re.TcfEuV2;var Fe=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TcfCaV1Field=void 0,(n=t.TcfCaV1Field||(t.TcfCaV1Field={})).VERSION="Version",n.CREATED="Created",n.LAST_UPDATED="LastUpdated",n.CMP_ID="CmpId",n.CMP_VERSION="CmpVersion",n.CONSENT_SCREEN="ConsentScreen",n.CONSENT_LANGUAGE="ConsentLanguage",n.VENDOR_LIST_VERSION="VendorListVersion",n.TCF_POLICY_VERSION="TcfPolicyVersion",n.USE_NON_STANDARD_STACKS="UseNonStandardStacks",n.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",n.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",n.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",n.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",n.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",n.SEGMENT_TYPE="SegmentType",n.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",n.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",n.NUM_CUSTOM_PURPOSES="NumCustomPurposes",n.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",n.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"});e(Fe);Fe.TcfCaV1Field;function De(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var me=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TcfCaV1=void 0;var n=function(){a(c,Oe.AbstractEncodableSegmentedBitStringSection);var o=De(c);function c(e){var t;d(this,c);var n=new Map,r=new Date;n.set(Fe.TcfCaV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,c.VERSION)),n.set(Fe.TcfCaV1Field.CREATED.toString(),new fe.EncodableDatetime(r)),n.set(Fe.TcfCaV1Field.LAST_UPDATED.toString(),new fe.EncodableDatetime(r)),n.set(Fe.TcfCaV1Field.CMP_ID.toString(),new re.EncodableFixedInteger(12,0)),n.set(Fe.TcfCaV1Field.CMP_VERSION.toString(),new re.EncodableFixedInteger(12,0)),n.set(Fe.TcfCaV1Field.CONSENT_SCREEN.toString(),new re.EncodableFixedInteger(6,0)),n.set(Fe.TcfCaV1Field.CONSENT_LANGUAGE.toString(),new Te.EncodableFixedString(2,"EN")),n.set(Fe.TcfCaV1Field.VENDOR_LIST_VERSION.toString(),new re.EncodableFixedInteger(12,0)),n.set(Fe.TcfCaV1Field.TCF_POLICY_VERSION.toString(),new re.EncodableFixedInteger(6,2)),n.set(Fe.TcfCaV1Field.USE_NON_STANDARD_STACKS.toString(),new ue.EncodableBoolean(!1)),n.set(Fe.TcfCaV1Field.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Fe.TcfCaV1Field.PURPOSES_EXPRESS_CONSENT.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Fe.TcfCaV1Field.PURPOSES_IMPLIED_CONSENT.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Fe.TcfCaV1Field.VENDOR_EXPRESS_CONSENT.toString(),new ye.EncodableOptimizedFixedRange([])),n.set(Fe.TcfCaV1Field.VENDOR_IMPLIED_CONSENT.toString(),new ye.EncodableOptimizedFixedRange([])),n.set(Fe.TcfCaV1Field.SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(3,3)),n.set(Fe.TcfCaV1Field.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),n.set(Fe.TcfCaV1Field.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new _e.EncodableFixedBitfield([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var i=new re.EncodableFixedInteger(6,0);return n.set(Fe.TcfCaV1Field.NUM_CUSTOM_PURPOSES.toString(),i),n.set(Fe.TcfCaV1Field.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Se.EncodableFlexibleBitfield(function(){return i.getValue()},[])),n.set(Fe.TcfCaV1Field.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Se.EncodableFlexibleBitfield(function(){return i.getValue()},[])),(t=o.call(this,n,[[Fe.TcfCaV1Field.VERSION.toString(),Fe.TcfCaV1Field.CREATED.toString(),Fe.TcfCaV1Field.LAST_UPDATED.toString(),Fe.TcfCaV1Field.CMP_ID.toString(),Fe.TcfCaV1Field.CMP_VERSION.toString(),Fe.TcfCaV1Field.CONSENT_SCREEN.toString(),Fe.TcfCaV1Field.CONSENT_LANGUAGE.toString(),Fe.TcfCaV1Field.VENDOR_LIST_VERSION.toString(),Fe.TcfCaV1Field.TCF_POLICY_VERSION.toString(),Fe.TcfCaV1Field.USE_NON_STANDARD_STACKS.toString(),Fe.TcfCaV1Field.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),Fe.TcfCaV1Field.PURPOSES_EXPRESS_CONSENT.toString(),Fe.TcfCaV1Field.PURPOSES_IMPLIED_CONSENT.toString(),Fe.TcfCaV1Field.VENDOR_EXPRESS_CONSENT.toString(),Fe.TcfCaV1Field.VENDOR_IMPLIED_CONSENT.toString()],[Fe.TcfCaV1Field.SEGMENT_TYPE.toString(),Fe.TcfCaV1Field.PUB_PURPOSES_EXPRESS_CONSENT.toString(),Fe.TcfCaV1Field.PUB_PURPOSES_IMPLIED_CONSENT.toString(),Fe.TcfCaV1Field.NUM_CUSTOM_PURPOSES.toString(),Fe.TcfCaV1Field.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),Fe.TcfCaV1Field.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(c,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&0<e[1].length&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=0;r<t.length;r++){var i=this.base64UrlEncoder.decode(t[r]);switch(i.substring(0,3)){case"000":n[0]=i;break;case"011":n[1]=i;break;default:throw new H.DecodingError("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(e,t){if(E(u(c.prototype),"setFieldValue",this).call(this,e,t),e!==Fe.TcfCaV1Field.CREATED.toString()&&e!==Fe.TcfCaV1Field.LAST_UPDATED.toString()){var n=new Date,r=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));this.setFieldValue(Fe.TcfCaV1Field.CREATED.toString(),r),this.setFieldValue(Fe.TcfCaV1Field.LAST_UPDATED.toString(),r)}}},{key:"getId",value:function(){return c.ID}},{key:"getName",value:function(){return c.NAME}}]),c}();(t.TcfCaV1=n).ID=5,n.VERSION=2,n.NAME="tcfcav1"});e(me);me.TcfCaV1;function Me(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var we=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidFieldError=void 0;var n=function(){a(r,l(Error));var n=Me(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).name="InvalidFieldError",t}return r}();t.InvalidFieldError=n});e(we);we.InvalidFieldError;var xe=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspV1Field=void 0,(n=t.UspV1Field||(t.UspV1Field={})).VERSION="Version",n.NOTICE="Notice",n.OPT_OUT_SALE="OptOutSale",n.LSPA_COVERED="LspaCovered"});e(xe);xe.UspV1Field;var Ge=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspV1=void 0;var n=function(){function t(e){d(this,t),this.fields=new Map,this.fields.set(xe.UspV1Field.VERSION.toString(),t.VERSION),this.fields.set(xe.UspV1Field.NOTICE.toString(),"-"),this.fields.set(xe.UspV1Field.OPT_OUT_SALE.toString(),"-"),this.fields.set(xe.UspV1Field.LSPA_COVERED.toString(),"-"),e&&0<e.length&&this.decode(e)}return s(t,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e):null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new we.InvalidFieldError(e+" not found");this.fields.set(e,t)}},{key:"toObj",value:function(){var e={},t=!0,n=!1,r=void 0;try{for(var i,o=this.fields.keys()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var c=i.value,s=this.fields.get(c);e[c.toString()]=s}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"encode",value:function(){var e="";return e+=this.getFieldValue(xe.UspV1Field.VERSION.toString()),e+=this.getFieldValue(xe.UspV1Field.NOTICE.toString()),e+=this.getFieldValue(xe.UspV1Field.OPT_OUT_SALE.toString()),e+=this.getFieldValue(xe.UspV1Field.LSPA_COVERED.toString())}},{key:"decode",value:function(e){this.setFieldValue(xe.UspV1Field.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(xe.UspV1Field.NOTICE.toString(),e.charAt(1)),this.setFieldValue(xe.UspV1Field.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(xe.UspV1Field.LSPA_COVERED.toString(),e.charAt(3))}},{key:"getId",value:function(){return t.ID}},{key:"getName",value:function(){return t.NAME}}]),t}();(t.UspV1=n).ID=6,n.VERSION=1,n.NAME="uspv1"});e(Ge);Ge.UspV1;var Le=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.FixedIntegerListEncoder=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"encode",value:function(e,t,n){for(var r="",i=0;i<e.length;i++)r+=Y.FixedIntegerEncoder.encode(e[i],t);for(;r.length<t*n;)r+="0";return r}},{key:"decode",value:function(e,t,n){if(!/^[0-1]*$/.test(e))throw new H.DecodingError("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new H.DecodingError("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new H.DecodingError("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));for(var r=[],i=0;i<e.length;i+=t)r.push(Y.FixedIntegerEncoder.decode(e.substring(i,i+t)));for(;r.length<n;)r.push(0);return r}}]),e}();t.FixedIntegerListEncoder=n});e(Le);Le.FixedIntegerListEncoder;function ke(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var je=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFixedIntegerList=void 0;var n=function(){a(i,Z.AbstractEncodableBitStringDataType);var r=ke(i);function i(e,t){var n;return d(this,i),(n=r.call(this)).elementBitStringLength=e,n.numElements=t.length,n.setValue(t),n}return s(i,[{key:"encode",value:function(){return Le.FixedIntegerListEncoder.encode(this.value,this.elementBitStringLength,this.numElements)}},{key:"decode",value:function(e){this.value=Le.FixedIntegerListEncoder.decode(e,this.elementBitStringLength,this.numElements)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}},{key:"getValue",value:function(){return p(E(u(i.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){for(var t=p(e),n=t.length;n<this.numElements;n++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),E(u(i.prototype),"setValue",this).call(this,t)}}]),i}();t.EncodableFixedIntegerList=n});e(je);je.EncodableFixedIntegerList;var Be=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspNatV1Field=void 0,(n=t.UspNatV1Field||(t.UspNatV1Field={})).VERSION="Version",n.SHARING_NOTICE="SharingNotice",n.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",n.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",n.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",n.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",n.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",n.SALE_OPT_OUT="SaleOptOut",n.SHARING_OPT_OUT="SharingOptOut",n.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",n.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",n.PERSONAL_DATA_CONSENTS="PersonalDataConsents",n.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",n.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",n.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",n.GPC_SEGMENT_TYPE="GpcSegmentType",n.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",n.GPC="Gpc"});e(Be);Be.UspNatV1Field;function He(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Ye=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspNatV1=void 0;var n=function(){a(i,Oe.AbstractEncodableSegmentedBitStringSection);var r=He(i);function i(e){var t;d(this,i);var n=new Map;return n.set(Be.UspNatV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(Be.UspNatV1Field.SHARING_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SALE_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SHARING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SALE_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SHARING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.SENSITIVE_DATA_PROCESSING.toString(),new je.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0,0,0,0])),n.set(Be.UspNatV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new je.EncodableFixedIntegerList(2,[0,0])),n.set(Be.UspNatV1Field.PERSONAL_DATA_CONSENTS.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.MSPA_COVERED_TRANSACTION.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.MSPA_SERVICE_PROVIDER_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Be.UspNatV1Field.GPC_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(2,1)),n.set(Be.UspNatV1Field.GPC_SEGMENT_INCLUDED.toString(),new ue.EncodableBoolean(!0)),n.set(Be.UspNatV1Field.GPC.toString(),new ue.EncodableBoolean(!1)),(t=r.call(this,n,[[Be.UspNatV1Field.VERSION.toString(),Be.UspNatV1Field.SHARING_NOTICE.toString(),Be.UspNatV1Field.SALE_OPT_OUT_NOTICE.toString(),Be.UspNatV1Field.SHARING_OPT_OUT_NOTICE.toString(),Be.UspNatV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Be.UspNatV1Field.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),Be.UspNatV1Field.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Be.UspNatV1Field.SALE_OPT_OUT.toString(),Be.UspNatV1Field.SHARING_OPT_OUT.toString(),Be.UspNatV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),Be.UspNatV1Field.SENSITIVE_DATA_PROCESSING.toString(),Be.UspNatV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Be.UspNatV1Field.PERSONAL_DATA_CONSENTS.toString(),Be.UspNatV1Field.MSPA_COVERED_TRANSACTION.toString(),Be.UspNatV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),Be.UspNatV1Field.MSPA_SERVICE_PROVIDER_MODE.toString()],[Be.UspNatV1Field.GPC_SEGMENT_TYPE.toString(),Be.UspNatV1Field.GPC.toString()]])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&0<e[1].length&&!0===this.fields.get(Be.UspNatV1Field.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,i=0;i<t.length;i++){var o=this.base64UrlEncoder.decode(t[i]);switch(o.substring(0,2)){case"00":n[0]=o;break;case"01":r=!0,n[1]=o;break;default:throw new H.DecodingError("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Be.UspNatV1Field.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.UspNatV1=n).ID=7,n.VERSION=1,n.NAME="uspnatv1"});e(Ye);Ye.UspNatV1;var Ke=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspCaV1Field=void 0,(n=t.UspCaV1Field||(t.UspCaV1Field={})).VERSION="Version",n.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",n.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",n.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",n.SALE_OPT_OUT="SaleOptOut",n.SHARING_OPT_OUT="SharingOptOut",n.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",n.PERSONAL_DATA_CONSENTS="PersonalDataConsents",n.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",n.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",n.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",n.GPC_SEGMENT_TYPE="GpcSegmentType",n.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",n.GPC="Gpc"});e(Ke);Ke.UspCaV1Field;function We(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Qe=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspCaV1=void 0;var n=function(){a(i,Oe.AbstractEncodableSegmentedBitStringSection);var r=We(i);function i(e){var t;d(this,i);var n=new Map;return n.set(Ke.UspCaV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(Ke.UspCaV1Field.SALE_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.SHARING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.SALE_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.SHARING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.SENSITIVE_DATA_PROCESSING.toString(),new je.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0,0])),n.set(Ke.UspCaV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new je.EncodableFixedIntegerList(2,[0,0])),n.set(Ke.UspCaV1Field.PERSONAL_DATA_CONSENTS.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.MSPA_COVERED_TRANSACTION.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.MSPA_SERVICE_PROVIDER_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(Ke.UspCaV1Field.GPC_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(2,1)),n.set(Ke.UspCaV1Field.GPC_SEGMENT_INCLUDED.toString(),new ue.EncodableBoolean(!0)),n.set(Ke.UspCaV1Field.GPC.toString(),new ue.EncodableBoolean(!1)),(t=r.call(this,n,[[Ke.UspCaV1Field.VERSION.toString(),Ke.UspCaV1Field.SALE_OPT_OUT_NOTICE.toString(),Ke.UspCaV1Field.SHARING_OPT_OUT_NOTICE.toString(),Ke.UspCaV1Field.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Ke.UspCaV1Field.SALE_OPT_OUT.toString(),Ke.UspCaV1Field.SHARING_OPT_OUT.toString(),Ke.UspCaV1Field.SENSITIVE_DATA_PROCESSING.toString(),Ke.UspCaV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Ke.UspCaV1Field.PERSONAL_DATA_CONSENTS.toString(),Ke.UspCaV1Field.MSPA_COVERED_TRANSACTION.toString(),Ke.UspCaV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),Ke.UspCaV1Field.MSPA_SERVICE_PROVIDER_MODE.toString()],[Ke.UspCaV1Field.GPC_SEGMENT_TYPE.toString(),Ke.UspCaV1Field.GPC.toString()]])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&0<e[1].length&&!0===this.fields.get(Ke.UspCaV1Field.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,i=0;i<t.length;i++){var o=this.base64UrlEncoder.decode(t[i]);switch(o.substring(0,2)){case"00":n[0]=o;break;case"01":r=!0,n[1]=o;break;default:throw new H.DecodingError("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Ke.UspCaV1Field.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.UspCaV1=n).ID=8,n.VERSION=1,n.NAME="uspcav1"});e(Qe);Qe.UspCaV1;var ze=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspVaV1Field=void 0,(n=t.UspVaV1Field||(t.UspVaV1Field={})).VERSION="Version",n.SHARING_NOTICE="SharingNotice",n.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",n.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",n.SALE_OPT_OUT="SaleOptOut",n.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",n.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",n.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",n.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",n.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"});e(ze);ze.UspVaV1Field;function Xe(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Je=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspVaV1=void 0;var n=function(){a(i,oe.AbstractEncodableBitStringSection);var r=Xe(i);function i(e){var t;d(this,i);var n=new Map;return n.set(ze.UspVaV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(ze.UspVaV1Field.SHARING_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.SALE_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.SALE_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.SENSITIVE_DATA_PROCESSING.toString(),new je.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0])),n.set(ze.UspVaV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.MSPA_COVERED_TRANSACTION.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(ze.UspVaV1Field.MSPA_SERVICE_PROVIDER_MODE.toString(),new re.EncodableFixedInteger(2,0)),(t=r.call(this,n,[ze.UspVaV1Field.VERSION.toString(),ze.UspVaV1Field.SHARING_NOTICE.toString(),ze.UspVaV1Field.SALE_OPT_OUT_NOTICE.toString(),ze.UspVaV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),ze.UspVaV1Field.SALE_OPT_OUT.toString(),ze.UspVaV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),ze.UspVaV1Field.SENSITIVE_DATA_PROCESSING.toString(),ze.UspVaV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),ze.UspVaV1Field.MSPA_COVERED_TRANSACTION.toString(),ze.UspVaV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),ze.UspVaV1Field.MSPA_SERVICE_PROVIDER_MODE.toString()])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.UspVaV1=n).ID=9,n.VERSION=1,n.NAME="uspvav1"});e(Je);Je.UspVaV1;var qe=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspCoV1Field=void 0,(n=t.UspCoV1Field||(t.UspCoV1Field={})).VERSION="Version",n.SHARING_NOTICE="SharingNotice",n.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",n.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",n.SALE_OPT_OUT="SaleOptOut",n.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",n.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",n.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",n.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",n.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",n.GPC_SEGMENT_TYPE="GpcSegmentType",n.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",n.GPC="Gpc"});e(qe);qe.UspCoV1Field;function $e(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var Ze=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspCoV1=void 0;var n=function(){a(i,Oe.AbstractEncodableSegmentedBitStringSection);var r=$e(i);function i(e){var t;d(this,i);var n=new Map;return n.set(qe.UspCoV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(qe.UspCoV1Field.SHARING_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.SALE_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.SALE_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.SENSITIVE_DATA_PROCESSING.toString(),new je.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0])),n.set(qe.UspCoV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.MSPA_COVERED_TRANSACTION.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.MSPA_SERVICE_PROVIDER_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(qe.UspCoV1Field.GPC_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(2,1)),n.set(qe.UspCoV1Field.GPC_SEGMENT_INCLUDED.toString(),new ue.EncodableBoolean(!0)),n.set(qe.UspCoV1Field.GPC.toString(),new ue.EncodableBoolean(!1)),(t=r.call(this,n,[[qe.UspCoV1Field.VERSION.toString(),qe.UspCoV1Field.SHARING_NOTICE.toString(),qe.UspCoV1Field.SALE_OPT_OUT_NOTICE.toString(),qe.UspCoV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),qe.UspCoV1Field.SALE_OPT_OUT.toString(),qe.UspCoV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),qe.UspCoV1Field.SENSITIVE_DATA_PROCESSING.toString(),qe.UspCoV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),qe.UspCoV1Field.MSPA_COVERED_TRANSACTION.toString(),qe.UspCoV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),qe.UspCoV1Field.MSPA_SERVICE_PROVIDER_MODE.toString()],[qe.UspCoV1Field.GPC_SEGMENT_TYPE.toString(),qe.UspCoV1Field.GPC.toString()]])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&0<e[1].length&&!0===this.fields.get(qe.UspCoV1Field.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,i=0;i<t.length;i++){var o=this.base64UrlEncoder.decode(t[i]);switch(o.substring(0,2)){case"00":n[0]=o;break;case"01":r=!0,n[1]=o;break;default:throw new H.DecodingError("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(qe.UspCoV1Field.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.UspCoV1=n).ID=10,n.VERSION=1,n.NAME="uspcov1"});e(Ze);Ze.UspCoV1;var et=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspUtV1Field=void 0,(n=t.UspUtV1Field||(t.UspUtV1Field={})).VERSION="Version",n.SHARING_NOTICE="SharingNotice",n.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",n.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",n.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",n.SALE_OPT_OUT="SaleOptOut",n.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",n.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",n.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",n.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",n.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"});e(et);et.UspUtV1Field;function tt(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var nt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspUtV1=void 0;var n=function(){a(i,oe.AbstractEncodableBitStringSection);var r=tt(i);function i(e){var t;d(this,i);var n=new Map;return n.set(et.UspUtV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(et.UspUtV1Field.SHARING_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.SALE_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.SALE_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.SENSITIVE_DATA_PROCESSING.toString(),new je.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0])),n.set(et.UspUtV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.MSPA_COVERED_TRANSACTION.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(et.UspUtV1Field.MSPA_SERVICE_PROVIDER_MODE.toString(),new re.EncodableFixedInteger(2,0)),(t=r.call(this,n,[et.UspUtV1Field.VERSION.toString(),et.UspUtV1Field.SHARING_NOTICE.toString(),et.UspUtV1Field.SALE_OPT_OUT_NOTICE.toString(),et.UspUtV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),et.UspUtV1Field.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),et.UspUtV1Field.SALE_OPT_OUT.toString(),et.UspUtV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),et.UspUtV1Field.SENSITIVE_DATA_PROCESSING.toString(),et.UspUtV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),et.UspUtV1Field.MSPA_COVERED_TRANSACTION.toString(),et.UspUtV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),et.UspUtV1Field.MSPA_SERVICE_PROVIDER_MODE.toString()])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.UspUtV1=n).ID=11,n.VERSION=1,n.NAME="usputv1"});e(nt);nt.UspUtV1;var rt=t(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.UspCtV1Field=void 0,(n=t.UspCtV1Field||(t.UspCtV1Field={})).VERSION="Version",n.SHARING_NOTICE="SharingNotice",n.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",n.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",n.SALE_OPT_OUT="SaleOptOut",n.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",n.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",n.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",n.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",n.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",n.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",n.GPC_SEGMENT_TYPE="GpcSegmentType",n.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",n.GPC="Gpc"});e(rt);rt.UspCtV1Field;function it(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var ot=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.UspCtV1=void 0;var n=function(){a(i,Oe.AbstractEncodableSegmentedBitStringSection);var r=it(i);function i(e){var t;d(this,i);var n=new Map;return n.set(rt.UspCtV1Field.VERSION.toString(),new re.EncodableFixedInteger(6,i.VERSION)),n.set(rt.UspCtV1Field.SHARING_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.SALE_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.SALE_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.SENSITIVE_DATA_PROCESSING.toString(),new je.EncodableFixedIntegerList(2,[0,0,0,0,0,0,0,0])),n.set(rt.UspCtV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new je.EncodableFixedIntegerList(2,[0,0,0])),n.set(rt.UspCtV1Field.MSPA_COVERED_TRANSACTION.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.MSPA_SERVICE_PROVIDER_MODE.toString(),new re.EncodableFixedInteger(2,0)),n.set(rt.UspCtV1Field.GPC_SEGMENT_TYPE.toString(),new re.EncodableFixedInteger(2,1)),n.set(rt.UspCtV1Field.GPC_SEGMENT_INCLUDED.toString(),new ue.EncodableBoolean(!0)),n.set(rt.UspCtV1Field.GPC.toString(),new ue.EncodableBoolean(!1)),(t=r.call(this,n,[[rt.UspCtV1Field.VERSION.toString(),rt.UspCtV1Field.SHARING_NOTICE.toString(),rt.UspCtV1Field.SALE_OPT_OUT_NOTICE.toString(),rt.UspCtV1Field.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),rt.UspCtV1Field.SALE_OPT_OUT.toString(),rt.UspCtV1Field.TARGETED_ADVERTISING_OPT_OUT.toString(),rt.UspCtV1Field.SENSITIVE_DATA_PROCESSING.toString(),rt.UspCtV1Field.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),rt.UspCtV1Field.MSPA_COVERED_TRANSACTION.toString(),rt.UspCtV1Field.MSPA_OPT_OUT_OPTION_MODE.toString(),rt.UspCtV1Field.MSPA_SERVICE_PROVIDER_MODE.toString()],[rt.UspCtV1Field.GPC_SEGMENT_TYPE.toString(),rt.UspCtV1Field.GPC.toString()]])).base64UrlEncoder=new X.CompressedBase64UrlEncoder,e&&0<e.length&&t.decode(e),t}return s(i,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&0<e[1].length&&!0===this.fields.get(rt.UspCtV1Field.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],r=!1,i=0;i<t.length;i++){var o=this.base64UrlEncoder.decode(t[i]);switch(o.substring(0,2)){case"00":n[0]=o;break;case"01":r=!0,n[1]=o;break;default:throw new H.DecodingError("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(rt.UspCtV1Field.GPC_SEGMENT_INCLUDED).setValue(r)}},{key:"getId",value:function(){return i.ID}},{key:"getName",value:function(){return i.NAME}}]),i}();(t.UspCtV1=n).ID=12,n.VERSION=1,n.NAME="uspctv1"});e(ot);ot.UspCtV1;var ct=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sections=void 0;function n(){d(this,n)}(t.Sections=n).SECTION_ID_NAME_MAP=new Map([[Re.TcfEuV2.ID,Re.TcfEuV2.NAME],[me.TcfCaV1.ID,me.TcfCaV1.NAME],[Ge.UspV1.ID,Ge.UspV1.NAME],[Ye.UspNatV1.ID,Ye.UspNatV1.NAME],[Qe.UspCaV1.ID,Qe.UspCaV1.NAME],[Je.UspVaV1.ID,Je.UspVaV1.NAME],[Ze.UspCoV1.ID,Ze.UspCoV1.NAME],[nt.UspUtV1.ID,nt.UspUtV1.NAME],[ot.UspCtV1.ID,ot.UspCtV1.NAME]]),n.SECTION_ORDER=[Re.TcfEuV2.NAME,me.TcfCaV1.NAME,Ge.UspV1.NAME,Ye.UspNatV1.NAME,Qe.UspCaV1.NAME,Je.UspVaV1.NAME,Ze.UspCoV1.NAME,nt.UspUtV1.NAME,ot.UspCtV1.NAME]});e(ct);ct.Sections;var st=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GppModel=void 0;var n=function(){function t(e){d(this,t),this.sections=new Map,e&&0<e.length&&this.decode(e)}return s(t,[{key:"setFieldValue",value:function(e,t,n){var r=null;if(this.sections.has(e)?r=this.sections.get(e):e===me.TcfCaV1.NAME?(r=new me.TcfCaV1,this.sections.set(me.TcfCaV1.NAME,r)):e===Re.TcfEuV2.NAME?(r=new Re.TcfEuV2,this.sections.set(Re.TcfEuV2.NAME,r)):e===Ge.UspV1.NAME?(r=new Ge.UspV1,this.sections.set(Ge.UspV1.NAME,r)):e===Ye.UspNatV1.NAME?(r=new Ye.UspNatV1,this.sections.set(Ye.UspNatV1.NAME,r)):e===Qe.UspCaV1.NAME?(r=new Qe.UspCaV1,this.sections.set(Qe.UspCaV1.NAME,r)):e===Je.UspVaV1.NAME?(r=new Je.UspVaV1,this.sections.set(Je.UspVaV1.NAME,r)):e===Ze.UspCoV1.NAME?(r=new Ze.UspCoV1,this.sections.set(Ze.UspCoV1.NAME,r)):e===nt.UspUtV1.NAME?(r=new nt.UspUtV1,this.sections.set(nt.UspUtV1.NAME,r)):e===ot.UspCtV1.NAME&&(r=new ot.UspCtV1,this.sections.set(ot.UspCtV1.NAME,r)),!r)throw new we.InvalidFieldError(e+"."+t+" not found");r.setFieldValue(t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(ct.Sections.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(ct.Sections.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasField",value:function(e,t){return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}},{key:"hasFieldBySectionId",value:function(e,t){return this.hasField(ct.Sections.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasSection",value:function(e){return this.sections.has(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.sections.delete(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.sections.clear()}},{key:"getHeader",value:function(){var e=new se.HeaderV1;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}},{key:"getSection",value:function(e){return this.sections.has(e)?this.sections.get(e).toObj():null}},{key:"getSectionIds",value:function(){for(var e=[],t=0;t<ct.Sections.SECTION_ORDER.length;t++){var n=ct.Sections.SECTION_ORDER[t];if(this.sections.has(n)){var r=this.sections.get(n);e.push(r.getId())}}return e}},{key:"encode",value:function(){for(var e=[],t=[],n=0;n<ct.Sections.SECTION_ORDER.length;n++){var r=ct.Sections.SECTION_ORDER[n];if(this.sections.has(r)){var i=this.sections.get(r);e.push(i.encode()),t.push(i.getId())}}var o=new se.HeaderV1;return o.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(o.encode()),e.join("~")}},{key:"decode",value:function(e){this.sections.clear();var t=e.split("~"),n=new se.HeaderV1(t[0]);this.sections.set(se.HeaderV1.NAME,n);for(var r=n.getFieldValue("SectionIds"),i=0;i<r.length;i++)if(r[i]===me.TcfCaV1.ID){var o=new me.TcfCaV1(t[i+1]);this.sections.set(me.TcfCaV1.NAME,o)}else if(r[i]===Re.TcfEuV2.ID){var c=new Re.TcfEuV2(t[i+1]);this.sections.set(Re.TcfEuV2.NAME,c)}else if(r[i]===Ge.UspV1.ID){var s=new Ge.UspV1(t[i+1]);this.sections.set(Ge.UspV1.NAME,s)}else if(r[i]===Ye.UspNatV1.ID){var a=new Ye.UspNatV1(t[i+1]);this.sections.set(Ye.UspNatV1.NAME,a)}else if(r[i]===Qe.UspCaV1.ID){var u=new Qe.UspCaV1(t[i+1]);this.sections.set(Qe.UspCaV1.NAME,u)}else if(r[i]===Je.UspVaV1.ID){var l=new Je.UspVaV1(t[i+1]);this.sections.set(Je.UspVaV1.NAME,l)}else if(r[i]===Ze.UspCoV1.ID){var d=new Ze.UspCoV1(t[i+1]);this.sections.set(Ze.UspCoV1.NAME,d)}else if(r[i]===nt.UspUtV1.ID){var f=new nt.UspUtV1(t[i+1]);this.sections.set(nt.UspUtV1.NAME,f)}else if(r[i]===ot.UspCtV1.ID){var E=new ot.UspCtV1(t[i+1]);this.sections.set(ot.UspCtV1.NAME,E)}}},{key:"encodeSection",value:function(e){return this.sections.has(e)?this.sections.get(e).encode():null}},{key:"encodeSectionById",value:function(e){return this.encodeSection(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"decodeSection",value:function(e,t){var n=null;this.sections.has(e)?n=this.sections.get(e):e===me.TcfCaV1.NAME?(n=new me.TcfCaV1,this.sections.set(me.TcfCaV1.NAME,n)):e===Re.TcfEuV2.NAME?(n=new Re.TcfEuV2,this.sections.set(Re.TcfEuV2.NAME,n)):e===Ge.UspV1.NAME?(n=new Ge.UspV1,this.sections.set(Ge.UspV1.NAME,n)):e===Ye.UspNatV1.NAME?(n=new Ye.UspNatV1,this.sections.set(Ye.UspNatV1.NAME,n)):e===Qe.UspCaV1.NAME?(n=new Qe.UspCaV1,this.sections.set(Qe.UspCaV1.NAME,n)):e===Je.UspVaV1.NAME?(n=new Je.UspVaV1,this.sections.set(Je.UspVaV1.NAME,n)):e===Ze.UspCoV1.NAME?(n=new Ze.UspCoV1,this.sections.set(Ze.UspCoV1.NAME,n)):e===nt.UspUtV1.NAME?(n=new nt.UspUtV1,this.sections.set(nt.UspUtV1.NAME,n)):e===ot.UspCtV1.NAME&&(n=new ot.UspCtV1,this.sections.set(ot.UspCtV1.NAME,n)),n&&n.decode(t)}},{key:"decodeSectionById",value:function(e,t){this.decodeSection(ct.Sections.SECTION_ID_NAME_MAP.get(e),t)}},{key:"toObject",value:function(){for(var e={},t=0;t<ct.Sections.SECTION_ORDER.length;t++){var n=ct.Sections.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}]),t}();t.GppModel=n});e(st);st.GppModel;var at=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApiContext=void 0;var n=function(){function e(){d(this,e),this.gppVersion="1.0",this.apiSupport=[Re.TcfEuV2.NAME,me.TcfCaV1.NAME,Ge.UspV1.NAME,Ye.UspNatV1.NAME,Qe.UspCaV1.NAME,Je.UspVaV1.NAME,Ze.UspCoV1.NAME,nt.UspUtV1.NAME,ot.UspCtV1.NAME],this.eventQueue=new j.EventListenerQueue(this),this.cmpStatus=w.CmpStatus.LOADING,this.cmpDisplayStatus=x.DisplayStatus.HIDDEN,this.applicableSections=[],this.gppModel=new st.GppModel}return s(e,[{key:"reset",value:function(){delete this.cmpId,delete this.cmpVersion,delete this.currentAPI,delete this.eventStatus,this.gppModel=new st.GppModel,this.cmpStatus=w.CmpStatus.LOADING,this.cmpDisplayStatus=x.DisplayStatus.HIDDEN,this.eventQueue.clear()}}]),e}();t.CmpApiContext=n});e(at);at.CmpApiContext;var ut=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(ut);var lt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(M,t),n(L,t),n(k,t),n(at,t),n(ut,t),n(j,t)});e(lt);var dt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Q,t),n(q,t),n(X,t),n(le,t),n(J,t),n($,t),n(Ee,t),n(Y,t),n(Le,t),n(Ie,t),n(he,t),n(be,t)});function ft(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}e(dt);var Et=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableFibonacciInteger=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=ft(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){return J.FibonacciIntegerEncoder.encode(this.value)}},{key:"decode",value:function(e){this.value=J.FibonacciIntegerEncoder.decode(e)}},{key:"substring",value:function(e,t){var n=e.indexOf("11",t);return 0<n?e.substring(t,n+2):e}}]),r}();t.EncodableFibonacciInteger=n});e(Et);Et.EncodableFibonacciInteger;function pt(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}var St=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EncodableOptimizedFibonacciRange=void 0;var n=function(){a(r,Z.AbstractEncodableBitStringDataType);var n=pt(r);function r(e){var t;return d(this,r),(t=n.call(this)).setValue(e),t}return s(r,[{key:"encode",value:function(){var e=0<this.value.length?this.value[this.value.length-1]:0,t=$.FibonacciIntegerRangeEncoder.encode(this.value),n=e;if(t.length<=n)return Y.FixedIntegerEncoder.encode(e,16)+"1"+t;for(var r=[],i=0,o=0;o<e;o++)o==this.value[i]-1?(r[o]=!0,i++):r[o]=!1;return Y.FixedIntegerEncoder.encode(e,16)+"0"+Ee.FixedBitfieldEncoder.encode(r,n)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=$.FibonacciIntegerRangeEncoder.decode(e.substring(17));else{for(var t=[],n=Ee.FixedBitfieldEncoder.decode(e.substring(17)),r=0;r<n.length;r++)!0===n[r]&&t.push(r+1);this.value=t}}},{key:"substring",value:function(e,t){var n=Y.FixedIntegerEncoder.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new te.EncodableFibonacciIntegerRange([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return p(E(u(r.prototype),"getValue",this).call(this))}},{key:"setValue",value:function(e){E(u(r.prototype),"setValue",this).call(this,p(new Set(e)).sort(function(e,t){return e-t}))}}]),r}();t.EncodableOptimizedFibonacciRange=n});e(St);St.EncodableOptimizedFibonacciRange;var gt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(dt,t),n(Z,t),n(ue,t),n(fe,t),n(Et,t),n(te,t),n(_e,t),n(re,t),n(je,t),n(Ce,t),n(Te,t),n(Se,t),n(St,t),n(ye,t)});e(gt);var _t=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(H,t),n(W,t)});e(_t);var ht=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(ie,t),n(Fe,t),n(Ae,t),n(Ke,t),n(qe,t),n(rt,t),n(Be,t),n(et,t),n(xe,t),n(ze,t)});e(ht);var vt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(vt);var Tt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(oe,t),n(Oe,t),n(vt,t),n(se,t),n(ct,t),n(me,t),n(Re,t),n(Qe,t),n(Ze,t),n(ot,t),n(Ye,t),n(nt,t),n(Ge,t),n(Je,t)});e(Tt);var Ot=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(gt,t),n(_t,t),n(ht,t),n(Tt,t),n(st,t)});e(Ot);var It=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.JsonHttpClient=void 0;var n=function(){function e(){d(this,e)}return s(e,null,[{key:"absCall",value:function(e,i,o,c){return new Promise(function(t,n){var r=new XMLHttpRequest;r.withCredentials=o,r.addEventListener("load",function(){if(r.readyState==XMLHttpRequest.DONE)if(200<=r.status&&r.status<300){var e=r.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}t(e)}else n(new Error("HTTP Status: ".concat(r.status," response type: ").concat(r.responseType)))}),r.addEventListener("error",function(){n(new Error("error"))}),r.addEventListener("abort",function(){n(new Error("aborted"))}),null===i?r.open("GET",e,!0):r.open("POST",e,!0),r.responseType="json",r.timeout=c,r.ontimeout=function(){n(new Error("Timeout "+c+"ms "+e))},r.send(i)})}},{key:"post",value:function(e,t,n,r){var i=2<arguments.length&&void 0!==n&&n,o=3<arguments.length&&void 0!==r?r:0;return this.absCall(e,JSON.stringify(t),i,o)}},{key:"fetch",value:function(e,t,n){var r=1<arguments.length&&void 0!==t&&t,i=2<arguments.length&&void 0!==n?n:0;return this.absCall(e,null,r,i)}}]),e}();t.JsonHttpClient=n});e(It);It.JsonHttpClient;var Vt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(It,t)});function Ct(r){return function(){var e,t=u(r);if(function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()){var n=u(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)}}e(Vt);var Nt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.GvlError=void 0;var n=function(){a(r,l(Error));var n=Ct(r);function r(e){var t;return d(this,r),(t=n.call(this,e)).name="GvlError",t}return r}();t.GvlError=n});e(Nt);Nt.GvlError;var yt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Nt,t)});e(yt);var At=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(At);var Pt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentLanguages=void 0;var n=function(){function t(){d(this,t)}return s(t,[{key:"has",value:function(e){return t.langSet.has(e)}},{key:"forEach",value:function(e){t.langSet.forEach(e)}},{key:"size",get:function(){return t.langSet.size}}]),t}();(t.ConsentLanguages=n).langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"])});e(Pt);Pt.ConsentLanguages;var bt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(bt);var Ut=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(Ut);var Rt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(Rt);var Ft=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(Ft);var Dt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(Dt);var mt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(mt);var Mt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(Mt);var wt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(wt);var xt=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0})});e(xt);var Gt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(At,t),n(Pt,t),n(bt,t),n(Ut,t),n(Rt,t),n(Ft,t),n(Dt,t),n(mt,t),n(Mt,t),n(wt,t),n(xt,t)});e(Gt);var Lt=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(Vt,t),n(yt,t),n(Gt,t)});e(Lt);var kt=t(function(e,t){var n=this&&this.__awaiter||function(e,c,s,a){return new(s=s||Promise)(function(n,t){function r(e){try{o(a.next(e))}catch(e){t(e)}}function i(e){try{o(a.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((a=a.apply(e,c||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Gvl=t.GvlUrlConfig=void 0;t.GvlUrlConfig=function e(){d(this,e)};var r=function(){function a(){d(this,a),this.consentLanguages=new Pt.ConsentLanguages,this.language=a.DEFAULT_LANGUAGE,this.ready=!1,this.languageFilename="purposes-[LANG].json"}return s(a,[{key:"changeLanguage",value:function(r){return n(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.toUpperCase(),this.consentLanguages.has(t)){e.next=3;break}throw new Nt.GvlError("unsupported language ".concat(r));case 3:if(t!==this.language)return this.language=t,n=this.baseUrl+this.languageFilename.replace("[LANG]",r),e.prev=6,e.t0=this,e.next=10,It.JsonHttpClient.fetch(n);e.next=17;break;case 10:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=17;break;case 14:throw e.prev=14,e.t2=e.catch(6),new Nt.GvlError("unable to load language: "+e.t2.message);case 17:case"end":return e.stop()}},e,this,[[6,14]])}))}},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(e){var r=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){r.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){r.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){r.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){r.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors=e.reduce(function(e,t){var n=r.vendors[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach(function(e){r.byPurposeVendorMap[String(e)].consent.add(t)}),n.specialPurposes.forEach(function(e){r.bySpecialPurposeVendorMap[String(e)].add(t)}),n.legIntPurposes.forEach(function(e){r.byPurposeVendorMap[String(e)].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(function(e){r.byPurposeVendorMap[String(e)].flexible.add(t)}),n.features.forEach(function(e){r.byFeatureVendorMap[String(e)].add(t)}),n.specialFeatures.forEach(function(e){r.bySpecialFeatureVendorMap[String(e)].add(t)}),e[t]=n),e},{})}},{key:"getFilteredVendors",value:function(e,t,n,r){var i=this,o=e.charAt(0).toUpperCase()+e.slice(1),c={};return("purpose"===e&&n?this["by"+o+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+o+"VendorMap"][String(t)]).forEach(function(e){c[String(e)]=i.vendors[String(e)]}),c}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.ready}}],[{key:"fromVendorList",value:function(e){var t=new a;return t.populate(e),t}},{key:"fromUrl",value:function(s){return n(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=s.baseUrl)&&0!==t.length){e.next=3;break}throw new Nt.GvlError("Invalid baseUrl: '"+t+"'");case 3:if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new Nt.GvlError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.next=5;break;case 5:if(0<t.length&&"/"!==t[t.length-1]&&(t+="/"),(n=new a).baseUrl=t,s.languageFilename?n.languageFilename=s.languageFilename:n.languageFilename="purposes-[LANG].json",0<s.version)return r=s.versionedFilename,i=t+(r=r||"archives/vendor-list-v[VERSION].json").replace("[VERSION]",String(s.version)),e.t0=n,e.next=14,It.JsonHttpClient.fetch(i);e.next=18;break;case 14:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=26;break;case 18:return o=s.latestFilename,c=t+(o=o||"vendor-list.json"),e.t2=n,e.next=24,It.JsonHttpClient.fetch(c);case 24:e.t3=e.sent,e.t2.populate.call(e.t2,e.t3);case 26:return e.abrupt("return",n);case 27:case"end":return e.stop()}},e)}))}},{key:"isInstanceOf",value:function(e){return"object"==i(e)&&"function"==typeof e.narrowVendorsTo}}]),a}();(t.Gvl=r).DEFAULT_LANGUAGE="EN"});e(kt);kt.Gvl,kt.GvlUrlConfig;var jt=t(function(e,t){var n=this&&this.__awaiter||function(e,c,s,a){return new(s=s||Promise)(function(n,t){function r(e){try{o(a.next(e))}catch(e){t(e)}}function i(e){try{o(a.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((a=a.apply(e,c||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.CmpApi=void 0;var r=function(){function r(e,t,n){d(this,r),this.cmpApiContext=new at.CmpApiContext,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new k.CallResponder(this.cmpApiContext,n)}return s(r,[{key:"fireEvent",value:function(e,t){this.cmpApiContext.eventQueue.exec(e,t)}},{key:"fireErrorEvent",value:function(e){this.cmpApiContext.eventQueue.exec("error",e)}},{key:"fireSectionChange",value:function(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(e){this.cmpApiContext.eventStatus=e}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(e){this.cmpApiContext.applicableSections=e}},{key:"getCurrentAPI",value:function(){return this.cmpApiContext.currentAPI}},{key:"setCurrentAPI",value:function(e){this.cmpApiContext.currentAPI=e}},{key:"setGppString",value:function(e){this.cmpApiContext.gppModel.decode(e)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}},{key:"setSectionStringById",value:function(e,t){this.setSectionString(ct.Sections.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSectionString",value:function(e){return this.cmpApiContext.gppModel.encodeSection(e)}},{key:"getSectionStringById",value:function(e){return this.getSectionString(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"setFieldValue",value:function(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(ct.Sections.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(ct.Sections.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSection",value:function(e){return this.cmpApiContext.gppModel.getSection(e)}},{key:"getSectionById",value:function(e){return this.getSection(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"hasSection",value:function(e){return this.cmpApiContext.gppModel.hasSection(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.cmpApiContext.gppModel.deleteSection(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(ct.Sections.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(e){return kt.Gvl.fromVendorList(e)}},{key:"getGvlFromUrl",value:function(t){return n(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kt.Gvl.fromUrl(t));case 1:case"end":return e.stop()}},e)}))}}]),r}();t.CmpApi=r});e(jt);jt.CmpApi;var n=t(function(e,t){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),n=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),n(lt,t),n(Ot,t),n(Lt,t),n(jt,t),n(kt,t)});e(n);var Bt=n.CmpApi;function Ht(){}var Yt=new(Ht.prototype.getCmpApi=function(e,t,n){return new Bt(e,t,n)},Ht);window.otIabModule={gppSdkRef:{gppCmpApi:Yt.getCmpApi}}}();
